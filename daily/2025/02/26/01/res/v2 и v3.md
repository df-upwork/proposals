Ниже приведена сравнительная таблица ключевых различий между **HL7 v2** и **HL7 v3**.

| **Критерий**                           | **HL7 v2**                                                                                                 | **HL7 v3**                                                                                                                                        |
|---------------------------------------|-------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------|
| **Время появления**                   | Первая «рабочая» версия HL7 v2 (v2.1) выпущена ещё в 1980-х, широкое распространение получили v2.3/v2.4     | Начало разработки — конец 1990-х. Первые «нормативные» релизы выходили в 2000-х (около 2005–2008 гг.).                                            |
| **Концептуальная основа**             | Обмен данными строится вокруг отдельных сообщений (**Trigger Events**) и сегментов (MSH, PID, PV1 и т.п.), организованных в плоский текстовый формат с разделителями (пайпы, символы каретки). | Основан на **RIM (Reference Information Model)** — формальной «референсной» модели данных, от которой наследуют все сообщения. Использует объекты, отношения и роли. |
| **Формат сообщения**                  | **Текстовый (pipe-delimited)**. Пример: `MSH|^~\&|...`<br>Сегменты отделены переводами строк, поля — символом `\|`. | **XML-структуры** (или иногда производные форматы). Более формальный и детализированный синтаксис, чаще всего сложный в чтении «вручную».          |
| **Уровень формализации**              | Менее формализован. Много практических «исключений» и неоднородных вариантов в разных организациях; широкое использование Z-сегментов (кастомных). | Более формализованная структура: каждый элемент данных привязан к RIM. Требует тщательного моделирования и согласования.                           |
| **Применимость и распространение**    | **Де-факто стандарт** в большинстве интеграций в мире (особенно в США) для ADT, ORM, ORU, DFT и т.д. Поддерживается почти всеми EHR/LIS/РИС/и т.п. | Распространён **значительно меньше**. Некоторые проекты (особенно в Европе/Канаде) применяли HL7 v3 (например, часть IHE- и правительственных проектов), но масштабного «глобального» охвата, как у v2, не получил. |
| **Простота внедрения**                | Относительно несложный формат (текст с разделителями), быстрый старт. Но много нюансов, «кастомных» профилей, вариативность реализаций.           | Считается **более сложным** в реализации: нужны инструменты для работы с RIM, более детально проработанное XML, часто требует больших усилий по моделированию. |
| **Реальные сценарии**                 | Обмен ADT (поступление, выписка и т.д.), результаты лабораторных исследований (ORU), заказы (ORM), биллинг (DFT) и пр. Повсеместно используется в интранет-интеграциях, хабах, ESB. | Использовался (и иногда используется) в проектах нац. уровня, где требовалось высокое единообразие и детальные «объектные» модели (e.g., Canada Health Infoway). Но чаще заменяется FHIR. |
| **Расширяемость**                     | Расширяется через Z-сегменты, профили IHE, местные гайдлайны. Часто приходится вручную договариваться, какие поля действительно используются.       | Благодаря RIM потенциально предоставляет гибкую «объектную» модель, но на практике сложен в кастомизации из-за жёсткой структуры и обилия элементов. |
| **Обратная совместимость**            | Разные подверсии (v2.1, v2.3, v2.5, v2.6 и т.д.). Обычно сохраняют базовую логику, но есть мелкие расхождения. Организации часто используют «v2.x» «как есть» годами. | У v3 строгая модель, обратная совместимость ограничена. Внесение изменений может приводить к конфликтам в RIM и схемах.                                                                  |
| **Текущие тенденции**                 | Несмотря на возраст, **HL7 v2** остаётся основным рабочим «транзакционным» форматом (особенно ADT, Lab). Продолжает использоваться и внедряться. | В современных проектах чаще уступает место **FHIR** как более гибкому и веб-ориентированному стандарту. HL7 v3 (особенно CDA) применяется в виде «документ-ориентированных» обменов (например, eMPI, EHR-to-EHR). |

**Вывод**  
- **HL7 v2**: более старый, но очень широко используемый, нестрогий, «плоский» формат с разделителями. Достаточно легко «поднять» и интегрировать, но требует договорённостей о полях и порой имеет много кастомных расхождений.  
- **HL7 v3**: теоретически более формализованный и «инженерный» стандарт (модель RIM, XML), однако его внедрение оказалось сложнее и не столь массовым, а на смену ему (в части «новых» интеграций) всё чаще приходит **HL7 FHIR**.
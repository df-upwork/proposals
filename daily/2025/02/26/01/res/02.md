Ниже — сравнительная таблица трёх стандартов (HL7 v2, HL7 v3 и HL7 FHIR) применительно к задаче клиента:  
*«Настроить приём сообщения о выписке пациента (discharge) из Epic EHR, обработать и залогировать в базу данных, используя Mirth Connect».*  

| **Критерий / фактор**                       | **HL7 v2**                                                                                                                        | **HL7 v3**                                                                                                                                    | **HL7 FHIR**                                                                                                                                |
|--------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------|
| **Типичные сообщения «discharge»**         | **ADT^A03 (выписка)** в потоке ADT (Admission/Discharge/Transfer). Это классический и наиболее распространённый сценарий.        | Теоретически возможны «актёрно-ориентированные» события, но **в практике** встречаются редко.                                                | **Event-based** (в FHIR есть Resource Encounter, **этапы hospitalization** и т. п.), но стандартизованный «ADT-сценарий» ещё не столь повсеместен. |
| **Уровень поддержки Epic**                 | **Очень высокий**: Epic Bridges «из коробки» поддерживает v2 ADT для выписки, приёма, переводов и пр. (ADT^A01, A02, A03 и т.д.).   | Есть поддержка, но **гораздо менее распространён**; чаще встречается в гос. проектах (Канада/Европа), а не в клинических «повседневных» ADT-интерфейсах Epic. | Epic активно продвигает FHIR для *некоторых* задач (особенно чтение данных через REST). Однако классические ADT-события пока реже выносят во FHIR на 100%. |
| **Поддержка в Mirth Connect**              | **Из коробки**: в Mirth есть готовый HL7 v2 parser (Transformer), «MLLP Listener» и т. п. Самый привычный/простой путь.           | Формально Mirth может парсить XML (HL7 v3), но готовых «Connector Type» или шаблонов под v3 намного меньше, придётся больше кода.           | **REST/HTTP Connectors** есть в Mirth. Можно использовать FHIR-API, если Epic выдаёт discharge через FHIR-события. Но далеко не всегда доступно «прямо сразу». |
| **Распространённость для ADT «Discharge»** | **Де-факто стандарт**. Огромное количество инсталляций EHR/интеграций делают выписку по ADT^A03 (v2).                              | Сложно найти «живые» примеры классической «ADТ» на HL7 v3. Часто большие проекты на v3 — это документ-ориентированный обмен (CDA/Clinical docs). | **Растёт**, но сейчас FHIR чаще используют для запросов к API (GET/POST «срез данных» пациента), а не всегда для «push»-сценариев выписки.   |
| **Формат**                                  | Текстовый (pipe-delimited), по TCP/MLLP.                                                                                          | XML (сложная модель RIM). Часто SOAP или специфический XML-«envelope».                                                                        | JSON/XML (REST/HTTP), более веб-ориентирован.                                                                                                |
| **Сложность и скорость внедрения**         | **Низкая/средняя**: HL7 v2 давно отработан, много примеров, Mirth Connect хорошо «умеет», Epic Bridges готов к v2 ADT out-of-box.  | **Высокая**: HL7 v3 требует более формализованного моделирования, нередко сложнее и дольше по времени.                                       | **Зависит от доступности FHIR API** у клиента (Epic). С технической точки зрения проще (HTTP+JSON), но всё ещё не всегда полно покрывает ADT/Discharge. |
| **Гибкость в настройке**                   | Есть Z-сегменты, профили, но «исторически» много вариаций. Нужно согласовать поля (MSH, PID, PV1, …).                              | Жёсткая модель RIM, «гибкость» выше на уровне проектирования, но на практике сложнее адаптировать под конкретные нужды.                      | FHIR дает гибкие Extensions, но стандарты «event-based» для госпитализации (discharge) не всегда полностью проработаны во всех EHR.         |
| **Совместимость со старыми системами**     | **Максимальная** (большинство больничных систем работают с v2).                                                                    | Ниже. В ряде стран (Канада, UK) встречается, но редко в классических ADT-сценариях.                                                            | FHIR — «новое», старые системы его могут не поддерживать. Epic EHR поддерживает FHIR, но не всегда для ADT/Discharge full-режима.           |
| **Какие навыки потребуются**               | Базовое знание v2-сегментов (MSH, PID, PV1, EVN, …). Настройки MLLP в Mirth.                                                      | Глубокое понимание RIM, XML. Навыки разработки и «декомпозиции» UML-модели.                                                                    | REST, JSON/XML, OAuth2, знакомство с ресурсами FHIR (Encounter, Patient, etc.) и способами генерации событий.                             |
| **Вероятность быстрого успеха**            | **Самый высокий** — «стандартный» путь: Epic настраивает ADT A03, Mirth слушает, записывает в SQL.                               | Низкая. HL7 v3 редок для классического «Discharge event».                                                                                     | Средний. Может работать, если у клиента Epic уже развернут FHIR API, **и** действительно доступен «discharge event» в виде FHIR-события.   |
| **Подходит ли «прямо сейчас» для задачи**   | **Да, оптимальный выбор**. ADT^A03 — «золотой стандарт» HL7 v2 для выписки.                                                       | **Почти не используется** в реальных ADT workflows Epic.                                                                                     | Зависит от наличия полноценной FHIR-эндпойнт для ADT/discharge. Скорее всего придётся много доп. усилий — сложнее, чем v2.                 |

### Итоговые рекомендации

1. **HL7 v2** (*ADT^A03*) — наиболее надёжный и быстрый путь для интеграции сценария «считываем события выписки пациента из Epic EHR, логируем в SQL».  
2. **HL7 v3** — в контексте «онлайновых» ADT-событий очень редко встречается; сложнее и не столь распространён в Epic-средах для discharge.  
3. **HL7 FHIR** — перспективно, если у клиента уже есть готовый FHIR API, способный уведомлять о выписке (subscribe/eventing), но чаще используется для запросов к clinical data, а не для «ADT push»-событий.  

Практически во всех проектах подобного типа (добавление информации о выписке в SQL) **самый привычный и поддерживаемый** выбор — **HL7 v2**.
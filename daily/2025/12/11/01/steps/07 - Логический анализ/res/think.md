## 1.
В пункте 3 (`⋇2`) содержится фактическая ошибка относительно дефолтного поведения Varnish.
Текст утверждает, что технические записи `hit-for-miss` по умолчанию сохраняются в хранилище `Transient`.
Однако в стандартной конфигурации Varnish время жизни (TTL) для записей `hit-for-miss` составляет 120 секунд. Параметр `shortlived`, который определяет, какие объекты отправляются в `Transient`, по умолчанию равен 10 секундам.
Поскольку 120 > 10, записи `hit-for-miss` по умолчанию попадают в **основное** хранилище (ограниченное `-s malloc`), а не в `Transient`. Следовательно, они подчиняются общему лимиту памяти и не могут вызвать неконтролируемое переполнение (OOM) через механизм `Transient` без явного изменения конфигурации.
**Степень уверенности: 98**

## 2.
В пункте 3 (`⋇2`) допущена грубая ошибка в терминологии HTTP.
Используется формулировка «Cookies that the backend marks as `private`» («Cookies, которые бэкенд помечает как приватные»).
В спецификации HTTP (RFC 6265) и VCL у куки (`Set-Cookie`) не существует атрибута или флага `private`. Атрибут `private` является директивой заголовка `Cache-Control`, относящегося к ответу целиком.
Бэкенд может прислать заголовок `Cache-Control: private` или просто `Set-Cookie`, но он не может «пометить куку как private».
**Степень уверенности: 100**

## 4.
В пункте 3 (`⋇2`) допущена логическая ошибка в установлении причинно-следственных связей.
Текст утверждает, что наплыв трафика с «unique tags» (уникальными метками) приводит к заполнению `Transient` хранилища и OOM.
Это утверждение противоречит пункту 2 (`⋇1`), где те же уникальные метки верно определены как причина раздувания *основного* кэша (`Cache Bloat`).
Запросы с уникальными метками (сами по себе, без `Set-Cookie`) являются кэшируемыми и попадают в основное хранилище. В `Transient` попадают только некэшируемые ответы. Объединение уникальных меток и Cookies через союз «или» как общей причины переполнения `Transient` технически неверно и вводит в заблуждение.
**Степень уверенности: 95**

## 5.
В пункте 3 (`⋇2`) допущена логическая ошибка в оценке масштаба угрозы.
Утверждается, что Varnish заполняет память именно «этими временными записями» (`hit-for-miss`) до полного краха (OOM).
Размер метаданных одной записи `hit-for-miss` составляет ~1 КБ. Чтобы заполнить ими 32 ГБ памяти, необходимо одновременно удерживать около 32 миллионов активных записей. При TTL 120 секунд это требует нагрузки более 260 000 RPS уникальных некэшируемых запросов.
Для сайта с посещаемостью 4 млн сессий в месяц такой сценарий нереалистичен без массированной DDoS-атаки. Реальный OOM в `Transient` чаще вызывается буферизацией тел ответов (streaming), а не одними лишь метаданными `hit-for-miss`.
**Степень уверенности: 85**
## 1. `Def`
### 1.1.
```
Def(A, B)
```
будет обозначать, что для понятия `B` я использую обозначение `A`.

### 1.2.
~~~
Def(A):
```
B
```
~~~
имеет то же значение, что и `Def(A, B)`.
Такой синтаксис я буду использовать, когда для записи `B` мне нужно несколько строк текста.

## 2. `Def_P`
### 2.1.
```
Def_P(A)
```
будет обозначать, что `A` является для меня проблемой.

### 2.2.
```
Def_P(A, B)
```
будет обозначать, что `B` является для меня проблемой, и для этой проблемы я использую обозначение `A`.

### 2.3.
~~~
Def_P(A):
```
B
```
~~~
имеет то же значение, что и `Def_P(A, B)`.
Такой синтаксис я буду использовать, когда для записи `B` мне нужно несколько строк текста.

## 3. `Def_C`
### 3.1.
```
Def_C(P, A, B)
```
будет обозначать `Def(A, B)` в контексте пункта `P`.
Вне пункта `P` это правило не применяется.
Если до пункта `P` обозначение `A` имело другой смысл, то после пункта `P` обозначение `A` снова будет иметь этот смысл.
По сути, `Def_C` объявляет локальную переменную `A` с областью действия `P`.
В отличие от него, `Def` объявляет глобальную переменную `A` (значение которой действует для всех пунктов, кроме `P`).

### 3.2.
~~~
Def_C(P, A):
```
B
```
~~~
имеет то же значение, что и `Def_C(P, A, B)`.
Такой синтаксис я буду использовать, когда для записи `B` мне нужно несколько строк текста.

### 3.3.
```
Def_C([P1, P2, …, Pn], A, B)
```
имеет значение, аналогичное `Def_C(P, A, B)`, только в этом случае обозначение `A` имеет значение `B` в контексте не одного пункта `P`, а всех пунктов [`P1`, `P2`, …, `Pn`], перечисленных в квадратных скобках.

### 3.4.
```
Def_C([P1-Pn], A, B)
```
имеет значение, аналогичное `Def_C([P1, P2, …, Pn], A, B)`: в этом случае обозначение `A` имеет значение `B` в контексте множества всех пунктов между `P1` и `Pn`, включая сами эти пункты.

### 3.5.
~~~
Def_C([P1, P2, …, Pn], A):
```
B
```
~~~
имеет то же значение, что и `Def_C([P1, P2, …, Pn], A, B)`.
Такой синтаксис я буду использовать, когда для записи `B` мне нужно несколько строк текста.

### 3.6.
~~~
Def_C([P1-Pn], A):
```
B
```
~~~
имеет то же значение, что и `Def_C([P1-Pn], A, B)`.
Такой синтаксис я буду использовать, когда для записи `B` мне нужно несколько строк текста.

## 4. `Def_F`
### 4.1.
Def_C(4-5, `F`):
```
Факт: некое событие, которое случилось в описываем мной случае.
```

### 4.2.
```
Def_F(B)
```
будет обозначать, что `B` — это `F`.

### 4.3.
~~~
Def_F:
```
B
```
~~~
имеет то же значение, что и `Def_F(B)`.
Такой синтаксис я буду использовать, когда для записи `B` мне нужно несколько строк текста.

### 4.4.
```
Def_F(A, B)
```
будет обозначать, что `B` — это `F`, и для него я использую обозначение `A`.

### 4.5.
~~~
Def_F(A):
```
B
```
~~~
имеет то же значение, что и `Def_F(A, B)`.
Такой синтаксис я буду использовать, когда для записи `B` мне нужно несколько строк текста.

## 5. `Def_Ph`
### 5.1.
Def_C(5, `Ph`):
```
Феномен: `F`, который вызывает у меня удивление.
```

### 5.2.
```
Def_Ph(B)
```
будет обозначать, что `B` — это `Ph`.

### 5.3.
~~~
Def_Ph:
```
B
```
~~~
имеет то же значение, что и `Def_Ph(B)`.
Такой синтаксис я буду использовать, когда для записи `B` мне нужно несколько строк текста.

### 5.4.
```
Def_Ph(A, B)
```
будет обозначать, что `B` — это `Ph`, и для него я использую обозначение `A`.

### 5.5.
~~~
Def_Ph(A):
```
B
```
~~~
имеет то же значение, что и `Def_Ph(A, B)`.
Такой синтаксис я буду использовать, когда для записи `B` мне нужно несколько строк текста.

## 6. `Def_H`
### 6.1.
Def_C(6, `H`):
```
Гипотеза: некое предположение, требующее проверки.
```

### 6.2.
```
Def_H(B)
```
будет обозначать, что `B` — это `H`.

### 6.3.
~~~
Def_H:
```
B
```
~~~
имеет то же значение, что и `Def_H(B)`.
Такой синтаксис я буду использовать, когда для записи `B` мне нужно несколько строк текста.

### 6.4.
```
Def_H(A, B)
```
будет обозначать, что `B` — это `H`, и для него я использую обозначение `A`.

### 6.5.
~~~
Def_H(A):
```
B
```
~~~
имеет то же значение, что и `Def_H(A, B)`.
Такой синтаксис я буду использовать, когда для записи `B` мне нужно несколько строк текста.

## 7. `Def_Set`
```
Def_Set(S, I)
```
будет обозначать, что `S` — множество всех возможных `I`.

## 8. `Def_I`
### 8.1.
```
Def_I(I, S)
```
будет обозначать, что `I` ∈ `S` (`I` — элемент множества `S`).

### 8.2.
~~~
Def_I(I, S):
```
B
```
~~~
будет обозначать, что `I` ∈ `S` и `B` — определение `I`.

## 9. `Use`
```
Use(A)
```
будет обозначать, что в описываемой мной ситуации я использую `A`.

## 10.
Потенциальный клиент опубликовал на Upwork следующий проект:
### 10.1. Title
Magento 2/GA4 Issues

### 10.2. Description
```text
Seeking Magento 2 expert to help solve discrepancy between GA4 Data and Magento Plugin data by pointing us in the direction of what seems to be the issue [not fixing the code yourself].

In October 2024, we had a GA4 plugin installed to our Magento 2 custom website. 
We rely on accurate data in order to make Google Ads decisions. 
But in May 2025, something with the data source seemed to break. 
The developers of the plugin recommended updating the plugin itself in Magento.

In Magento, this is what it looks like to "Reauthorize" the plugin (attached). 
When we click Reuathorize, it gives us these tokens. 
But we're not sure what to do with the tokens, or what is supposed to happen when we click Reauthorize.

We cannot grant access to the code at this time. 
We just need someone to point us in the right direction about whether something is not happening that should be happening in Magento, or if it could be a bad installation of the code, or something else.

Please only reply if you have experience with Magento and plugins, and if you know what is supposed to happen when you click Reauthorize.
```

### 10.3. Tags
Magento 2
Google Analytics
Google Ads
Ad Extensions

## 11. Информация о клиенте
### 11.1. Местоположение
USA
Charlottesville

## 11.2. Характеристики компании
### 11.2.1. Сектор экономики
неизвестно
### 11.2.2. Количество сотрудников
неизвестно

## 11.3. Характеристики учётной записи на Upwork
### 11.3.1. Member since
Jul 31, 2024
#### 11.3.2. Hire rate (%)
50
#### 11.3.3. Количество опубликованных проектов (jobs posted)
2
#### 11.3.4. Total spent (USD)
189
#### 11.3.5. Количество оплаченных часов в почасовых проектах
2

## 12.
Def(`C`):
```
клиент пункта 10
```

## 13.
Def(`P`):
```
проект пункта 10
```

## 14.
Def(`Ps`):
```
множество подобных `P` проектов 
```

## 15.
Def(`D`):
```
Описание `P` (пункт 10.2 выше)
```

## 16.
Def(`W`):
```
«GA4 plugin», о котором `C` пишет в `D`
```

## 17.
Def_F:
```
`W` — это следующий модуль для Magento 2: https://www.weltpixel.com/google-analytics-4-ga4-with-gtm-support-for-magento-2.html
```

## 18.
Def_F:
```
`C` использует `W` в редакции «PRO» (она стоит $399). 
```

## 19.
Def(`AW`):
```
Документация к `W`: https://weltpixel.com/resources/ModuleDoc/Magento2/GA4/User-Guide-WeltPixel-Google-Analytics-4.html 
```

## 20.
Def(`P1`):
```
Проблема, о которой `C` пишет в `D`:
~~~
- «discrepancy between GA4 Data and Magento Plugin data»
- «in May 2025, something with the data source seemed to break»
~~~
```

## 21.
Def(`WD`):
```
Разработчик `W`: WeltPixel.
`C` упоминает его в `D` как «the developers of the plugin».
```

## 22.
Def(`S1`):
```
Решение, предложенное `WD` для устранения `P1`:
~~~
updating the plugin itself in Magento
~~~
```

## 23.
Def_F:
```
`C` приложил к `D` 3 картинки:
- `1.png`
- `2.png`
- `3.png`
```

## 24. 
Def(`I<номер>`, «картинка `<номер>.png`»).
Например: `I1` обозначает картинку `1.png`.

## 25. Точные картинки
Термином «точная картинка» (`I-DOC`) я буду обозначать следующие виды картинок:
25.1) Изображение пользовательского интерфейса программного обеспечения
25.2) Скриншоты: любые снимки экрана компьютера, телефона или другого цифрового устройства
25.3) Любые схемы, диаграммы, чертежи, таблицы и другие подобные объекты, которые содержат точную информацию

## 28. Описание `I1`
```text
На изображении `I1` показан скриншот страницы с деталями заказа в интернет-магазине.
Вверху страницы расположен заголовок «ORDER # 100066707».
Справа от номера заказа находится его статус в рамке: «PENDING».
Под номером заказа указана дата: «October 25, 2024».
Ниже даты находится ссылка «Reorder».
Справа от неё находится иконка принтера и ссылка «Download PDF Invoice».
Под ссылками расположены две вкладки: «Items Ordered» и «Invoices».
Активной является вкладка «Items Ordered».
Далее следует таблица с заказанными товарами, содержащая столбцы «Product Name», «SKU», «Price», «Qty» и «Subtotal».
В столбце «Product Name» указан товар «Google Analytics 4 (GA4) PRO With GTM Support for Magento 2».
Под названием товара перечислены его характеристики: «Magento Edition: Open Source (Community)», «Support: 1 Year Support Open Source» и «Links: Google Analytics 4 GA4 Pro Version 1.15.1 (May 17, 2025)».
В столбце «SKU» указано значение «google-analytics-4-pro-community-365-days».
В столбце «Price» указана цена «$399.00».
В столбце «Qty» указано «Ordered: 1».
В столбце «Subtotal» указана сумма «$399.00».
Под таблицей товаров справа расположен блок с итоговыми суммами заказа.
Этот блок содержит строку «Subtotal» со значением «$399.00».
Следующая строка «Shipping & Handling» имеет значение «$0.00».
Последняя строка «Grand Total» выделена жирным шрифтом и показывает общую сумму «$399.00».
В самом низу изображения находится заголовок «ORDER INFORMATION».
```

## 29. Описание `I2`
```text
На изображении `I2` представлен скриншот страницы «Integrations» в панели администратора Magento.
В левом верхнем углу страницы находится заголовок «Integrations».
В правом верхнем углу расположены три элемента интерфейса: иконка поиска, иконка уведомлений с красным индикатором «99+» и меню пользователя с аватаром и именем «liz».
Под заголовком, в правой части страницы, находится оранжевая кнопка с текстом «Add New Integration».
Ниже расположена панель управления списком интеграций.
Слева на этой панели находятся кнопка «Search», ссылка «Reset Filter» и информационное сообщение «2 records found».
Справа на панели находятся элементы управления постраничной навигацией: выпадающий список с выбранным значением «20» и текстом «per page», неактивная стрелка влево, поле для ввода номера страницы со значением «1», текст «of 1» и неактивная стрелка вправо.
Под панелью управления отображается таблица (grid) с существующими интеграциями.
Заголовки столбцов таблицы слева направо: «Name», «Status», «Activate», «Edit», «Delete».
Первая строка таблицы содержит элементы для фильтрации данных: пустое текстовое поле под заголовком «Name» и пустой выпадающий список под заголовком «Status».
Вторая строка таблицы содержит информацию об интеграции с названием «Magento.Analytics user» в столбце «Name».
В столбце «Status» для этой интеграции указано значение «Active».
В столбце «Activate» находится активная ссылка с текстом «Reauthorize».
В столбце «Edit» расположена иконка для редактирования, выполненная в виде карандаша.
В столбце «Delete» расположена иконка для удаления, выполненная в виде корзины.
```

## 30. Описание `I3`
```text
На изображении `I3` показан скриншот модального окна в панели администратора Magento.
Заголовок модального окна — `«Magento Analytics user»`.
В правом верхнем углу окна находится оранжевая кнопка с надписью `«Done»`.
Под заголовком окна расположен подзаголовок `«Integration Tokens for Extensions»`.
Ниже этого подзаголовка находятся четыре текстовых поля, каждое со своим названием.
Первое поле называется `«Consumer Key»`, и внутри него виден частично скрытый ключ.
Второе поле называется `«Consumer Secret»`, и в нём также отображается частично скрытый ключ.
Третье поле имеет название `«Access Token»`, и оно содержит частично скрытый ключ доступа.
Четвёртое и последнее поле озаглавлено `«Access Token Secret»`, и в нём также показан частично скрытый секретный ключ доступа.
```

## 31.
Def(`Q1`):
```
Неясность, о которой `C` пишет в `D`:
~~~
In Magento, this is what it looks like to "Reauthorize" the plugin (attached). 
When we click Reuathorize, it gives us these tokens. 
But we're not sure what to do with the tokens
~~~
```

## 32.
Def(`Q2`):
```
Неясность, о которой `C` пишет в `D`:
~~~
what is supposed to happen when we click Reauthorize
~~~
```

## 33.
Def(`AM`):
```
Официальная документация к Magento 2 (Adobe Commerce).
```

## 34.
Def(`AW2`):
```
Официальный сайт `WD`: https://weltpixel.com
```

## 35.
Сегодня 2025-07-15.

## 36.
Def_H(`H1`):
```
Из `D` можно предположить, что `W` успешно работал с октября 2024 года по май 2025 года.
```

## 37.
Def(`Q3`):
```
Неясность: почему `P1`возникла именно в мае 2025 года.
```

## 38.
Def_F(`F2`):
```
Твой ответ на `Q2`: https://g.co/gemini/share/3a50f5aa36cf
```

## 39.
Def_F(`F3`):
```
Твой ответ на `Q3`: https://g.co/gemini/share/ad09cf9259e7
```

## 40.
Def_F(`F1`):
```
Твой ответ на `Q1`: https://g.co/gemini/share/1a662790a870
```

## 41. Твоя задача
Напиши пошаговую инструкцию для `P1`.

## 42. Правила ответа
### 42.1.
Обязательно используй свой режим «Deep Research».
Твой ответ без режима «Deep Research» — гарантированно неверный.

### 42.2.
Инструкция должна быть на русском языке.
Исключением являются точные официальные термины: смотри пункт 42.2 ниже.

### 42.3.
При обсуждении программного обеспечения используй точные официальные термины на английском языке: именно в том виде, как они указаны в официальной англоязычной документации к этому программному обеспечению.

### 42.4.
Не используй выделение жирным (`**`) и курсив (`*`).

### 42.5.
Названия файлов заключай в backticks.
Например: `header.php`.

### 42.6.
Названия элементов интерфейса заключай в угловые кавычки (`«»`).

### 42.7.
Для путей в интерфейсе используй `→`.
Например: «Current User» → «Personal».

### 42.8.
Не используй жаргон.
Вместо этого используй официальные термины.

#### 42.8.1.
В частности, фразы в кавычках используй только в том случае, когда они являются точными цитатами.
Не используй фразы в кавычках для применения жаргонных фраз.
Например, следующий фрагмент текста недопустим, потому что там используется жаргонная фраза «пролетел»: 
```
Например, код, который пушит данные о покупке, подключён асинхронно и загружается с небольшой задержкой, а триггер уже «пролетел».
```

### 42.9.
Не используй «you need» и другие подобные обращённые к клиенту фразы, перекладывающие действия на него.
Помни: я пишу клиенту или потенциальному клиенту.
Делать в любом случае буду я, а не клиент.
Вместо «you need» используй 2 альтернативы:
#### 42.9.1.
Нейтральные фразы типа «it is necessary».
#### 42.9.2.
Глаголы в неопределённой форме.
Например, во фрагменте ниже использованы подобные глаголы «set up», «create»:
```
1.2) Set up the transfer of login events from WordPress to Power BI using Fabric / OneLake.
1.2.1) Set up a «Data Pipeline» from the WordPress database table that stores login events (see point 1.1) to Fabric / OneLake.
1.2.2) Set up a connection from Power BI to Fabric / OneLake to pass login events.
1.3) Create the data model in Power BI.
```
Обрати внимание, в этом фрагменте не говорится, кто именно будет выполнять описанные действия: ответственность не перекладывается на клиента, в отличие от «you need».

### 42.10.
#### 42.10.1.
Для каждого шага указывай конкретное обоснование: на основе авторитетных источников информации.

#### 42.10.2.
Если предметная область регулируется нормативными актами, то в обосновании ссылайся на конкретные пункты этих нормативных актов с конкретными цитатами из них.
Цитаты давай как на языке нормативного акта, так и в своём переводе.

## 43.
Уже известную мне информацию не пересказывай.

## 44.
Обязательно используй свой режим «Deep Research».
Твой ответ без режима «Deep Research» — гарантированно неверный.

## 45.
Не мусори в ответе теми шагами, которые `C` уже выполнил.
Начинай инструкцию с конкретного состояния, в котором сейчас находится `C`.

## 46.
Особое внимание обрати на `F1`: именно там содержится самая важная для твоего ответа информация,
потому что `C` в `D` изначально делает неверные предпосылки и движется по неверному пути.

## 47.
Также, особое внимание обрати на https://www.optimizesmart.com/google-analytics-cookies-ultimate-guide
Это ключевая статья, на которую ссылается `WD` в changelog `W`.


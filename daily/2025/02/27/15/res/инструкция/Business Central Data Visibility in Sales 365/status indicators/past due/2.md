Ниже приведена пошаговая инструкция на русском языке о том, как сделать индикатор статуса «past due» из Business Central доступным в Dynamics 365 Sales. Термины интерфейса и названия продуктов приведены в их официальной англоязычной форме согласно документации Microsoft.

1) Определить механизм «past due» в Business Central

1.1) Убедиться, что в Business Central есть поле или набор полей, отражающих статус «past due» для клиентов. Для этого можно использовать стандартные возможности (например, поля, связанные с просроченной задолженностью или оплатами) или настроить дополнительное поле, если стандартного механизма недостаточно.

1.2) При необходимости добавить или обновить «API Page» в Business Central, которая будет включать поле(я), указывающее на «past due» статус. Это необходимо, чтобы «Power Automate» мог получать данные напрямую из Business Central.  
Например:  
• Открыть «Business Central» → «Tell Me» → ввести «Web Services» (или «API Pages») для просмотра или создания опубликованных данных.  
• Создать или отредактировать «API Page» для «Customer» или связанной сущности, добавив туда поле с информацией о «past due».

2) Создать или настроить поле для «past due» в Dynamics 365 Sales

2.1) В Dynamics 365 Sales определить, в каком объекте хранить показатель «past due». Обычно для B2B-сценариев это объект «Account» или «Contact» (если компания ведет учет на уровне контактов).  
2.2) В «Settings» → «Advanced Settings» → «Customizations» → «Customize the System» создать или отредактировать поле. Например, поле `PastDueStatus`, которое может иметь тип «Two Options» или «Text», в зависимости от того, как целесообразнее отображать статус «past due».  
2.3) Сохранить и опубликовать кастомизацию, чтобы поле стало доступно для обновления через интеграцию.

3) Создать «Flow» в Power Automate для регулярной передачи «past due» статуса

3.1) Зайти в «Power Automate» (через портал Microsoft Power Platform или Microsoft 365), в раздел «Create» и выбрать пункт «Scheduled cloud flow», чтобы настройка выполнялась на регулярной основе (например, каждые 4 часа).  
3.2) В созданном «Flow» указать триггер «Recurrence» и задать интервал запуска.  
3.3) Добавить действие «Business Central» → «List records» или «List customers» (наименование зависит от выбранного коннектора и версии). Указать нужную «API Page» или «Name» web-сервиса, который содержит поле с «past due» статусом.  
3.4) В поле «Advanced options» при необходимости настроить фильтры, чтобы получать только нужные записи (например, только тех клиентов, у которых есть просроченная задолженность).  
3.5) Добавить действие для итерации по полученным записям: «Apply to each», где в качестве входных данных выступает список клиентов, возвращенный из Business Central.

4) Обновлять статус «past due» в Dynamics 365 Sales

4.1) Внутри цикла «Apply to each» добавить действие «Dynamics 365» → «Update a record» (или «Upsert a record», в зависимости от логики). Настроить сопоставление (mapping) полей:  
• Идентификатор клиента в Business Central к соответствующему идентификатору «Account» в Dynamics 365 Sales (например, можно хранить внешний ключ в поле «Account Number»).  
• Поле «past due» из Business Central к полю `PastDueStatus` (или аналогичному) в Dynamics 365 Sales.  
4.2) При необходимости добавить условие (Condition), чтобы устанавливать поле «PastDueStatus» только для тех записей, где реальная задолженность просрочена. Например, если в Business Central поле «OverdueBalance» больше 0, то в Sales оно отмечается как «Yes» или «past due». Если баланс равен 0, можно обновлять статус «No» или «none».  
4.3) Сохранить и протестировать «Flow». Убедиться, что «Flow» завершается без ошибок, а в Dynamics 365 Sales отображается обновленное значение «past due» в нужном поле.

5) Проверка и контроль

5.1) В Business Central создать несколько тестовых клиентов с просроченной задолженностью, убедиться, что поле(я) «past due» заполнены.  
5.2) Дождаться или вручную запустить «Flow» в Power Automate (через «My flows» → «Run»).  
5.3) В Dynamics 365 Sales открыть несколько записей «Account» и проверить, что поле «PastDueStatus» (или другое выбранное имя) обновлено согласно состоянию «past due» из Business Central.  
5.4) Убедиться, что при отсутствии просрочки поле устанавливается в нейтральное состояние.

6) Рекомендации и дополнительные аспекты

6.1) При большом объеме данных в Business Central логичнее фильтровать записи еще на этапе извлечения (например, по условию «OverdueBalance > 0»), чтобы «Flow» не обрабатывал все записи подряд.  
6.2) При необходимости отображать не только статус «past due», но и связанные показатели (сумма просрочки, сроки и т. д.), настроить соответствующие поля в Dynamics 365 Sales и расширить «API Page» в Business Central.  
6.3) Если требуется двусторонний обмен (например, при изменении статуса в Sales 365), настроить обратный «Flow» или использовать другой подход (например, «Dataverse Virtual Tables» или встроенные коннекторы), но это выходит за рамки основной задачи.  
6.4) Периодически проверять логи «Flow» и следить за изменениями в Business Central. Если меняются поля или «API Page», корректировать настройки в Power Automate.

Таким образом, статус «past due» из Business Central становится доступным в Dynamics 365 Sales регулярно и в полуавтоматическом режиме. Полученная информация поможет отделу продаж видеть актуальную задолженность клиентов и учитывать ее в своей работе.
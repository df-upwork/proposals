По моему опыту, ваша проблема скорее всего вызвана одной из следующих 3 причин:
1) Java Heap Leak
1.1) Суть
Infor Lawson часто работает на базе Java-серверов приложений, таких как IBM WebSphere.
Утечка памяти в heap происходит, когда приложение сохраняет ссылки на объекты, которые больше не используются.
Garbage Collector (`GC`) не может освободить эту память, так как объекты считаются активными.
В течение 2-3 недель эти объекты накапливаются, заполняя доступную кучу.
Это приводит к частым и длительным циклам сборки мусора (GC Thrashing), что потребляет ресурсы ЦП и делает приложение крайне медленным или полностью невосприимчивым.
1.2) Обоснование
Симптомы постепенной деградации производительности, заканчивающейся зависанием, являются классическим признаком утечки памяти в Java.
Периодичность в 2-3 недели указывает на медленную утечку, что характерно для сложных корпоративных систем.
Даже если ошибка `OutOfMemoryError` не возникает, непрерывная работа `GC` может полностью парализовать приложение.
Известны случаи утечек в компонентах WebSphere, например, при обработке EJB-вызовов, которые приводили к исчерпанию памяти.
2) Connection Pool Exhaustion
2.1) Суть
Приложение использует пул соединений на сервере приложений для взаимодействия с SQL Server.
Утечка соединения происходит, когда приложение извлекает соединение из пула, но из-за ошибок в коде не возвращает его после использования.
Со временем все доступные соединения в пуле оказываются занятыми.
Новые запросы к приложению зависают в ожидании доступного соединения, что делает приложение неработоспособным.
2.2) Обоснование
Исчерпание пула является распространенной причиной зависания приложений, когда само приложение и база данных выглядят работоспособными.
Эта проблема возникает на стороне сервера приложений, поэтому администратор базы данных (DBA), проверяющий только SQL Server, мог её не заметить.
В WebSphere эта проблема часто проявляется в виде ошибки `J2CA0045E` (`ConnectionWaitTimeoutException`), когда достигается максимальное количество соединений.
Использование shared соединений в сочетании с длительными транзакциями может удерживать соединения даже после того, как приложение вызвало метод `close`.
3) Утечка дескрипторов Windows или истощение ресурсов WMI
3.1) Суть
Handles — это ресурсы Windows, используемые для отслеживания открытых объектов, таких как файлы, потоки, ключи реестра и сетевые соединения.
Если процесс (приложение Lawson или службы мониторинга) не закрывает дескрипторы после использования, происходит утечка.
Частые или неэффективные запросы к Windows Management Instrumentation (WMI) могут вызвать утечку памяти или дескрипторов в службе WMI (Winmgmt) или процессе `WmiPrvse.exe` .
Когда количество дескрипторов достигает системного лимита или служба WMI становится нестабильной, приложение и сервер замедляются и зависают.
3.2) Обоснование
Утечки дескрипторов накапливаются медленно и соответствуют временным рамкам в 2-3 недели.
Проблемы с WMI, вызванные проблемными или частыми запросами от систем мониторинга, являются частой причиной деградации производительности серверов Windows.
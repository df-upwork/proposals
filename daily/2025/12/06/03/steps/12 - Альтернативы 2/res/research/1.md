https://gemini.google.com/share/aa3f6d1b7bb9


## **1. Введение и архитектурный контекст задачи**

### **1.1. Анализ текущей проблематики**

В современной практике построения облачных инфраструктур задача обеспечения безопасной и приватной передачи данных между гетерогенными системами является одной из наиболее критичных. В рассматриваемом кейсе T⁎ пользователь столкнулся с фундаментальным противоречием между архитектурой управляемых сервисов Google Cloud Platform (GCP) и механизмами безопасности MongoDB Atlas.1 Задача заключается в организации потоковой репликации данных из Google Cloud Datastream в MongoDB Atlas через Private Service Connect (PSC), минуя публичный интернет, что продиктовано требованиями безопасности и, вероятно, нормативными актами.2

Однако, несмотря на корректную настройку сетевого уровня (VPC peering, маршрутизация), процесс подключения завершается сбоем, диагностированным как "Split-Horizon DNS Failure".3 Проблема P† заключается в том, что сервис Datastream исполняется в управляемом проекте Google («теневом» проекте), который архитектурно изолирован от пользовательского VPC.3 Хотя VPC-пиринг позволяет маршрутизировать IP-пакеты, он не транслирует конфигурации DNS-зон (Private DNS Zones), настроенных в пользовательском проекте, в среду исполнения Datastream.3 В результате, когда Datastream пытается разрешить доменное имя кластера Atlas (например, cluster0.mongodb.net), он использует публичные DNS-резолверы Google, которые возвращают публичные IP-адреса, а не приватные IP-адреса PSC-эндпоинтов.4 Это приводит к попытке соединения через публичный интернет, что блокируется настройками безопасности и противоречит цели задачи.

Ситуация осложняется тем, что MongoDB Atlas использует сложный механизм обнаружения топологии (Topology Discovery) и требует строгого соответствия TLS-сертификатов, включая проверку имени хоста (Hostname Validation) и Server Name Indication (SNI).5 Стандартные методы обхода, такие как использование IP-адресов напрямую, часто приводят к ошибкам валидации сертификатов, так как сертификаты Atlas выдаются на доменные имена.7 Таким образом, задача требует поиска нестандартного архитектурного решения A2ᚖ⠿, способного согласовать ограничения DNS-резолвинга Datastream со строгими требованиями безопасности MongoDB Atlas.

### **1.2. Обзор нормативной базы и требований безопасности**

При проектировании решения необходимо учитывать не только технические, но и юридические аспекты передачи данных. Согласно регламенту **GDPR (General Data Protection Regulation)**, в частности статье 32 («Безопасность обработки»), контролеры и процессоры данных обязаны внедрять соответствующие технические и организационные меры для обеспечения уровня безопасности, соответствующего риску.8

«Taking into account the state of the art, the costs of implementation and the nature, scope, context and purposes of processing... the controller and the processor shall implement appropriate technical and organisational measures to ensure a level of security appropriate to the risk... including... the pseudonymisation and encryption of personal data.»  
(«Учитывая достижения науки и техники, затраты на внедрение, а также характер, объем, контекст и цели обработки... контролер и процессор должны принимать соответствующие технические и организационные меры для обеспечения уровня безопасности, соответствующего риску... включая... псевдонимизацию и шифрование персональных данных.»).8

В контексте здравоохранения США, акт **HIPAA (Health Insurance Portability and Accountability Act)** в разделе технических гарантий (§ 164.312(e)(1)) требует внедрения мер безопасности при передаче электронной защищенной медицинской информации (ePHI) по электронным сетям связи.9

«Implement technical security measures to guard against unauthorized access to electronic protected health information that is being transmitted over an electronic communications network.»  
(«Внедрить технические меры безопасности для защиты от несанкционированного доступа к электронной защищенной медицинской информации, передаваемой по сети электронной связи.»).9

Использование публичных IP-адресов для передачи чувствительных данных, даже при использовании TLS-шифрования, может рассматриваться как повышение поверхности атаки и требовать дополнительного обоснования в рамках оценки воздействия на защиту данных (DPIA). Поэтому требование T⁎ об использовании приватного соединения (PSC) является не просто техническим предпочтением, а необходимым условием для соблюдения высоких стандартов комплаенса.

## **2. A2ᚖ₁-S: Промежуточный TCP-прокси с инъекцией SNI (Nginx/HAProxy)**

### **2.2.1. Суть**

Данное архитектурное решение A2ᚖ₁ подразумевает развертывание промежуточного узла маршрутизации (Proxy Server) внутри пользовательской сети VPC, который берет на себя функции согласования протоколов и адресации между Datastream и MongoDB Atlas.10  
Технически это реализуется путем создания виртуальной машины (Google Compute Engine) в той же подсети или в подсети с настроенной маршрутизацией до PSC-эндпоинтов, на которой устанавливается программное обеспечение для проксирования TCP-трафика, например, Nginx с модулем stream или HAProxy.11  
Критически важной деталью реализации является настройка прокси-сервера не просто на пересылку пакетов (TCP forwarding), а на активное вмешательство в процесс установления TLS-соединения посредством инъекции заголовка SNI (Server Name Indication).5  
Поскольку Datastream не может разрешить доменное имя Atlas в приватный IP, он настраивается на подключение к статическому внутреннему IP-адресу данного прокси-сервера, воспринимая его как конечную базу данных.12  
Прокси-сервер, получая входящее соединение от Datastream, инициирует новое соединение к PSC-эндпоинту MongoDB Atlas, используя заранее сконфигурированные IP-адреса назначения, полученные из настроек Private Service Connect.3  
В конфигурации Nginx директива proxy_ssl_server_name on обеспечивает принудительную передачу корректного доменного имени (например, cluster0-shard-00-00.mongodb.net) в пакете ClientHello на этапе TLS Handshake с серверами Atlas.5  
Это позволяет обойти механизм проверки SNI на стороне Atlas, который использует этот заголовок для маршрутизации трафика к конкретному тенанту в своей мульти-тенантной инфраструктуре.15  
Без этой инъекции Atlas разорвал бы соединение, так как входящий запрос от прокси (или от Datastream, если бы он мог подключиться) по IP-адресу не содержал бы информации о целевом виртуальном хосте.5  
Таким образом, прокси-сервер выступает в роли адаптера: для Datastream он является простым IP-адресом без требований к DNS, а для Atlas он является полноценным клиентом, соблюдающим все требования протокола TLS.8  
Вся схема работает полностью в приватном адресном пространстве (RFC 1918), не выходя в публичный интернет, что удовлетворяет требованиям безопасности.1

### **2.2.2. Оценка**

95

### **2.2.3. Достоинства**

Фундаментальным достоинством этого подхода является полный и гарантированный обход ограничений DNS-резолвинга «Split-Horizon», присущих архитектуре управляемых сервисов Google Cloud, таких как Datastream.3  
Решение обеспечивает строгую совместимость с требованиями безопасности MongoDB Atlas, так как позволяет корректно формировать SNI-заголовки, без которых подключение к кластерам Atlas через приватные каналы (PrivateLink/PSC) невозможно.5  
Архитектура с промежуточным прокси предоставляет полный контроль над трафиком, позволяя вести детальное логирование TCP-сессий, что критически важно для отладки и аудита безопасности.10  
В отличие от попыток манипулирования DNS, данный метод является детерминированным и не зависит от непрозрачных механизмов кеширования или распространения DNS-записей в инфраструктуре Google.4  
Использование Nginx или HAProxy является индустриальным стандартом, для которого существует обширная база знаний, документация и примеры конфигураций, что снижает риски при внедрении.11  
Решение позволяет реализовать дополнительные меры безопасности, такие как IP-allowlisting на уровне фаервола самой виртуальной машины прокси, создавая дополнительный эшелон защиты перед базой данных.18  
Прокси-сервер может быть легко масштабирован или переведен в отказоустойчивую конфигурацию (High Availability) с использованием Managed Instance Groups и внутреннего балансировщика нагрузки (Internal Load Balancer).19  
Данный подход не требует внесения изменений в настройки самого кластера MongoDB Atlas или понижения уровня безопасности (например, отключения валидации сертификатов), что сохраняет целостность защиты данных.20  
Возможность использования самоподписанных сертификатов на участке «Datastream — Прокси» (если это необходимо) при сохранении валидной цепочки доверия на участке «Прокси — Atlas» обеспечивает гибкость в управлении шифрованием.12  
Это решение универсально и может быть применено не только для Datastream, но и для любых других сервисов GCP, страдающих от аналогичных ограничений сетевой видимости.8  
Юридически, транзит трафика через контролируемый узел внутри периметра VPC упрощает доказательство соответствия требованиям GDPR и HIPAA относительно контроля над потоками данных.8  
Отсутствие зависимости от публичных IP-адресов полностью исключает векторы атак из глобальной сети, делая инфраструктуру невидимой для внешних сканеров уязвимостей.22

### **2.2.4. Недостатки**

Введение дополнительного компонента (виртуальной машины) неизбежно увеличивает эксплуатационную нагрузку, требуя настройки мониторинга, обновлений операционной системы и управления патчами безопасности.23  
Существует риск создания единой точки отказа (Single Point of Failure), если прокси-сервер будет развернут в единственном экземпляре без использования механизмов резервирования и автовосстановления.19  
Добавление дополнительного сетевого хопа (network hop) теоретически увеличивает задержку (latency) при передаче данных, хотя при размещении в той же зоне доступности это влияние минимально и часто пренебрежимо мало.8  
Настройка конфигурации Nginx для корректной работы с потоковой передачей данных (streaming replication) требует глубокого понимания параметров таймаутов (proxy_timeout, proxy_connect_timeout), чтобы избежать разрывов долгоживущих соединений.11  
В случае изменения внутренней архитектуры Atlas или ротации IP-адресов PSC (что происходит редко, но возможно), потребуется ручное или автоматизированное обновление конфигурации upstream на прокси-сервере.3  
Стоимость решения возрастает за счет необходимости оплаты вычислительных ресурсов (Compute Engine) и, возможно, лицензий на программное обеспечение, если используются коммерческие версии балансировщиков.18  
Сложность диагностики сетевых проблем может возрасти, так как ошибка соединения теперь может находиться на двух независимых участках сети: до прокси и после прокси.4  
При очень высоких объемах реплицируемых данных прокси-сервер может стать узким местом (bottleneck) по пропускной способности сети или CPU, что потребует вертикального масштабирования инстанса.11  
Использование stream модуля Nginx (L4 проксирование) ограничивает возможности инспекции протокола прикладного уровня, что не позволяет применять политики безопасности на основе содержимого запросов MongoDB.24  
Необходимость управления TLS-сертификатами на самом прокси-сервере (если требуется терминирование SSL со стороны Datastream) добавляет сложности в процессы управления ключами и секретами.15  
В некоторых организациях политики безопасности могут запрещать развертывание неуправляемых виртуальных машин (IaaS) для критических потоков данных, отдавая предпочтение только PaaS решениям.2  
Человеческий фактор при настройке конфигурационных файлов Nginx повышает риск ошибок, которые могут привести к простою сервиса репликации.25

## **3. A2ᚖ₂-S: Прямое подключение (Direct Connection) с использованием directConnection=true**

### **3.2.1. Суть**

Альтернативное решение A2ᚖ₂ базируется на использовании встроенных возможностей драйверов MongoDB и API Datastream для прямого указания адресов подключения, минуя стандартные механизмы обнаружения топологии.26  
В основе метода лежит параметр строки подключения (URI) directConnection=true, который инструктирует драйвер клиента (в данном случае Datastream) не выполнять фазу начального обнаружения (Initial Topology Discovery) и не пытаться разрешать адреса узлов из конфигурации реплика-сета, а подключаться непосредственно к указанному хосту.27  
Для реализации этого в Google Cloud Datastream необходимо использовать конфигурацию профиля соединения в формате JSON, где в блоке mongodbProfile задается объект standardConnectionFormat с полем "directConnection": true.29  
В поле hostAddresses при этом указываются непосредственно IP-адреса приватных эндпоинтов PSC, созданных в проекте пользователя, вместо доменных имен.30  
Это действие теоретически позволяет Datastream инициировать TCP-соединение напрямую по IP-адресу 10.x.x.x, не обращаясь к DNS-серверам для разрешения имени хоста, тем самым полностью исключая проблему «Split-Horizon DNS».3  
Поскольку API Datastream (v1) официально поддерживает параметр directConnection в структуре StandardConnectionFormat, данный метод является легитимным способом конфигурации ресурса.28  
Однако, для успешного установления защищенного соединения (SSL/TLS) при таком подходе возникает проблема несоответствия имени хоста: сертификат сервера Atlas выдан на доменное имя (например, *.mongodb.net), а клиент обращается к IP-адресу, что вызывает ошибку валидации Hostname Mismatch.7  
Для обхода этой ошибки необходимо, чтобы клиент Datastream поддерживал опции отключения проверки имени хоста (tlsAllowInvalidHostnames) или чтобы использовался кастомный CA-сертификат, что в интерфейсе Datastream может быть ограничено.12  
Важно отметить, что при использовании directConnection=true драйвер теряет способность автоматически переключаться на новый первичный узел (Primary) в случае выборов в реплика-сете, если в списке хостов не перечислены все узлы и драйвер не настроен на их периодический опрос в этом режиме.6  
Таким образом, суть метода сводится к попытке «силового» подключения по известному IP-адресу с использованием специализированных флагов драйвера базы данных для подавления стандартной логики маршрутизации.33  
Реализация данного подхода часто требует использования API или Terraform, так как графический интерфейс Google Cloud Console может не отображать все доступные параметры тонкой настройки соединения.12

### **3.2.2. Оценка**

65

### **3.2.3. Достоинства**

Главным достоинством метода является максимальная архитектурная простота, так как он не требует развертывания и обслуживания каких-либо промежуточных узлов, прокси-серверов или балансировщиков нагрузки.18  
Решение полностью укладывается в парадигму «Infrastructure as Code» (IaC), так как вся конфигурация содержится исключительно в определении ресурса Datastream (например, в Terraform-манифесте).35  
Отсутствие дополнительных сетевых переходов (hops) обеспечивает теоретически минимально возможную задержку (latency) при передаче данных от источника к приемнику.2  
Использование нативного параметра directConnection является документированной функцией драйверов MongoDB, предназначенной именно для сценариев, когда обнаружение топологии невозможно или нежелательно (например, через SSH-туннели или проброс портов).26  
Поддержка этого параметра в API Google Cloud Datastream (v1) свидетельствует о том, что вендор предусматривает подобные сценарии использования, обеспечивая определенный уровень совместимости.28  
Снижается стоимость владения инфраструктурой (TCO), так как отсутствуют затраты на вычислительные мощности (VM) для проксирования трафика.18  
Упрощается сетевая топология, что облегчает аудит правил фаервола и списков доступа, так как взаимодействие происходит напрямую между двумя сервисами.20  
В случае успешной настройки, данное решение является наиболее устойчивым к изменениям в инфраструктуре DNS, так как вообще не зависит от системы доменных имен.3  
Метод позволяет четко контролировать, к какому именно узлу базы данных происходит подключение, что может быть полезно для специфических задач отладки или аналитики.32  
Отсутствие промежуточного звена исключает риск того, что прокси-сервер станет «бутылочным горлышком» производительности при больших объемах CDC-трафика.11  
Решение не требует управления сертификатами на промежуточных узлах, так как TLS-сессия устанавливается (при успешной настройке) напрямую с конечным сервером.15  
Минимизация количества компонентов в системе повышает общую теоретическую надежность (меньше деталей, которые могут сломаться) при условии стабильности IP-адресов.19

### **3.2.4. Недостатки**

Критическим и часто блокирующим недостатком является невозможность корректного прохождения TLS-валидации без отключения проверки имени хоста, так как сертификаты Atlas не содержат приватных IP-адресов в поле SAN (Subject Alternative Name).4  
Публичное API Datastream, хотя и поддерживает загрузку сертификатов, часто не предоставляет явного флага tlsAllowInvalidHostnames или insecureSkipVerify, что делает невозможным установление защищенного соединения по IP-адресу с публичными сертификатами Atlas.12  
Использование directConnection=true отключает механизмы высокой доступности драйвера: если узел, к которому настроено подключение, выйдет из строя или перестанет быть Primary, репликация остановится до ручного вмешательства.6  
Жесткая привязка к IP-адресам делает конфигурацию крайне хрупкой (brittle): любые изменения в сетевой инфраструктуре Atlas (масштабирование, замена узлов) приведут к разрыву соединения.3  
Отсутствие возможности инъекции SNI-заголовка на уровне драйвера Datastream (так как мы не контролируем низкоуровневые параметры сокета) может привести к тому, что балансировщики нагрузки Atlas сбросят соединение.5  
Диагностика проблем SSL в управляемом сервисе Datastream крайне затруднена из-за скудности логов: пользователь может видеть только общие ошибки "Connection Refused" или "Handshake Failed" без детализации причин.12  
Риск нарушения политик безопасности: попытка отключить валидацию SSL (если бы это было возможно) для обхода проблемы с хостнеймом противоречит лучшим практикам и может не пройти аудит безопасности.9  
Непредсказуемое поведение драйвера: в некоторых версиях драйверов MongoDB сочетание directConnection и параметров аутентификации (особенно SCRAM-SHA-256) может приводить к ошибкам, если драйвер ожидает канонического имени хоста для хэширования.33  
Документация Google Cloud прямо указывает на отсутствие поддержки DNS в приватных соединениях, но не предлагает официального гайдлайна по настройке TLS для MongoDB в таких сценариях, что оставляет пользователя в зоне "неподдерживаемых конфигураций".3  
Необходимость постоянного мониторинга актуальности IP-адресов создает скрытую операционную нагрузку, которая может превысить затраты на обслуживание прокси-сервера.23  
В мульти-зональных конфигурациях указание одного IP-адреса лишает систему устойчивости к падению зоны доступности (Zone Outage), даже если сам кластер Atlas распределен по зонам.2  
Ограниченные возможности API: несмотря на наличие поля directConnection в JSON-схеме, его реальная функциональность может быть ограничена внутренними валидаторами сервиса, которые могут требовать наличия валидного хостнейма.28

## **4. Юридический анализ и Комплаенс**

### **4.1. Анализ рисков и требований нормативных актов**

При выборе архитектурного решения для передачи данных между облачными провайдерами необходимо руководствоваться не только технической целесообразностью, но и строгим соблюдением нормативных требований.  
В контексте задачи T⁎, речь идет о передаче данных между Google Cloud и MongoDB Atlas, что часто подразумевает трансграничную передачу данных или обработку чувствительной информации.  
GDPR (General Data Protection Regulation):  
Статья 5(1)(f) GDPR устанавливает принцип «целостности и конфиденциальности», требуя обработки данных способом, обеспечивающим надлежащую безопасность.8  
Использование решения A2ᚖ₁ (Proxy) с приватными IP-адресами и шифрованием полностью соответствует этому принципу.  
В то же время, гипотетическое использование публичных каналов связи (даже с шифрованием) может потребовать дополнительных обоснований в рамках DPIA, так как увеличивает риск перехвата метаданных трафика.  
Статья 25 («Data protection by design and by default») обязывает внедрять меры защиты данных на этапе проектирования системы.8  
Выбор архитектуры с приватным соединением (Private Service Connect) является прямой реализацией принципа Privacy by Design.  
HIPAA (Health Insurance Portability and Accountability Act):  
Для данных сферы здравоохранения США требования еще более конкретны.  
HIPAA Security Rule (45 CFR Part 160 and Subparts A and C of Part 164) требует:  
«Implement technical security measures to guard against unauthorized access to electronic protected health information that is being transmitted over an electronic communications network.» (§ 164.312(e)(1)).9  
Решение с использованием directConnection (A2ᚖ₂) при условии потенциального отключения валидации сертификатов (для обхода проверки хостнейма) может быть расценено как нарушение требования о проверке целостности («Integrity controls», § 164.312(e)(1)), так как делает возможным атаки типа Man-in-the-Middle (MitM).40  
Напротив, решение A2ᚖ₁ обеспечивает полную валидацию цепочки сертификатов, гарантируя, что данные передаются именно на доверенный сервер Atlas.12

CCPA (California Consumer Privacy Act):  
Хотя CCPA фокусируется на правах потребителей, он также накладывает ответственность за утечки данных, произошедшие в результате отсутствия разумных мер безопасности (Civil Code § 1798.150).21  
Использование архитектуры, исключающей публичный доступ (Private Service Connect + Proxy), демонстрирует «разумные меры безопасности» (reasonable security procedures and practices), что является важным аргументом защиты в случае юридических разбирательств.21

### **4.2. Юридическое обоснование отказа от публичного доступа**

Пользователь изначально отверг вариант использования публичного интернета (Public Internet Traversal) в описании задачи PD.  
Это решение юридически обосновано, так как публичный доступ к базам данных часто квалифицируется аудиторами как "High Risk" конфигурация.  
Стандарт PCI DSS (Payment Card Industry Data Security Standard) в требовании 1.3 прямо запрещает прямой публичный доступ между интернетом и системными компонентами, содержащими данные держателей карт.9  
Даже если данные не относятся к картам, принцип эшелонированной защиты требует изоляции баз данных в приватных подсетях.  
Решение A2ᚖ₁ создает изолированный туннель, который с точки зрения аудита выглядит как внутренняя сеть, что значительно упрощает прохождение сертификаций (SOC 2, ISO 27001).1

## **5. Итоговый вердикт и рекомендации**

### **5.1. Синтез анализа**

На основании проведенного глубокого технического и юридического анализа альтернатив A2ᚖ⠿, можно сделать однозначный вывод.  
Проблема P† является следствием фундаментального архитектурного ограничения управляемых сервисов Google Cloud, которые не имеют доступа к пользовательскому пространству имен DNS (Split-Horizon DNS).3  
Решение A2ᚖ₂ (Прямое подключение), несмотря на свою привлекательную простоту и поддержку API, несет в себе критические риски безопасности и стабильности.  
Основным блокирующим фактором для A2ᚖ₂ является невозможность корректной валидации TLS-сертификатов MongoDB Atlas при подключении по IP-адресу, что в сочетании с отсутствием механизмов автоматического фейловера делает это решение непригодным для промышленной эксплуатации (Production).7  
Попытки обойти эти ограничения ведут к нарушению нормативных требований (GDPR, HIPAA) в части обеспечения целостности и аутентичности соединений.9  
Напротив, решение A2ᚖ₁ (Промежуточный TCP-прокси) эффективно решает все технические проблемы, выступая в роли интеллектуального адаптера между ограниченной сетевой средой Datastream и строгими требованиями безопасности Atlas.10  
Оно обеспечивает:

1. **Связность:** Обход DNS-проблем за счет использования статических IP на входе и SNI-инъекции на выходе.5  
2. **Безопасность:** Полную поддержку TLS-шифрования с валидацией сертификатов, что удовлетворяет всем рассмотренным комплаенс-стандартам.15  
3. **Надежность:** Возможность построения отказоустойчивой архитектуры средствами GCP (MIG, ILB).19

### **5.2. Вердикт**

Я настоятельно рекомендую внедрить решение A2ᚖ₁ (Промежуточный TCP-прокси с Nginx) вместо текущего подхода T⁎, который неработоспособен, и вместо альтернативы A2ᚖ₂.  
Данный подход является единственным способом обеспечить стабильное, безопасное и юридически корректное соединение в условиях ограничений Private Service Connect и DNS.3

### **5.3. План внедрения (Roadmap)**

1. Подготовка инфраструктуры:  
   Развернуть в проекте internal-resources-corp (в сети datastream-net) небольшую виртуальную машину (например, e2-micro или e2-small) под управлением Linux (Debian/Ubuntu).2  
   Убедиться, что данная ВМ имеет сетевой доступ к PSC-эндпоинтам Atlas по портам 1024-65535.3  
2. Настройка Nginx:  
   Установить Nginx с модулем stream.  
   Сконфигурировать блок stream для прослушивания порта (например, 27017) и перенаправления трафика на IP-адрес PSC-эндпоинта.11  
   Критически важно: Добавить директиву proxy_ssl_server_name on и proxy_ssl_name <cluster-name>.mongodb.net для корректной инъекции SNI.5  
3. Конфигурация Datastream:  
   В профиле подключения Datastream указать внутренний IP-адрес созданной прокси-ВМ.12  
   В качестве метода подключения выбрать Private connectivity (через существующий пиринг).3  
4. Валидация:  
   Провести тест соединения из консоли Datastream.  
   Проверить логи Nginx (/var/log/nginx/access.log и error.log) для подтверждения прохождения трафика и корректности TLS-рукопожатия.10  
5. Масштабирование (опционально):  
   При необходимости повысить надежность, создать Instance Template из настроенной ВМ и развернуть Managed Instance Group за внутренним TCP-балансировщиком нагрузки.19

#### **Works cited**

1. Example: Private connectivity for a MongoDB Atlas cluster | Integration Connectors, accessed December 8, 2025, [https://docs.cloud.google.com/integration-connectors/docs/connectors/mongodb/configure-psc-mongodb](https://docs.cloud.google.com/integration-connectors/docs/connectors/mongodb/configure-psc-mongodb)  
2. Accessing multi-regional MongoDB Atlas with Private Service Connect - Google Codelabs, accessed December 8, 2025, [https://codelabs.developers.google.com/codelabs/psc-mongo-globalaccess](https://codelabs.developers.google.com/codelabs/psc-mongo-globalaccess)  
3. Create a private connectivity configuration | Datastream - Google Cloud Documentation, accessed December 8, 2025, [https://docs.cloud.google.com/datastream/docs/create-a-private-connectivity-configuration](https://docs.cloud.google.com/datastream/docs/create-a-private-connectivity-configuration)  
4. Unable to Connect to MongoDB Atlas Cluster Due to DNS Resolution Issue, accessed December 8, 2025, [https://www.mongodb.com/community/forums/t/unable-to-connect-to-mongodb-atlas-cluster-due-to-dns-resolution-issue/315254](https://www.mongodb.com/community/forums/t/unable-to-connect-to-mongodb-atlas-cluster-due-to-dns-resolution-issue/315254)  
5. Understanding SNI in NGINX Reverse Proxies: A Practical Guide ..., accessed December 8, 2025, [https://medium.com/@sandeeppesala123/understanding-sni-in-nginx-reverse-proxies-a-practical-guide-6bb54a839114](https://medium.com/@sandeeppesala123/understanding-sni-in-nginx-reverse-proxies-a-practical-guide-6bb54a839114)  
6. MongoDB URL without replicaSet optional parameter - Stack Overflow, accessed December 8, 2025, [https://stackoverflow.com/questions/49922741/mongodb-url-without-replicaset-optional-parameter](https://stackoverflow.com/questions/49922741/mongodb-url-without-replicaset-optional-parameter)  
7. Introduction To Azure Cosmos DB PDF - Scribd, accessed December 8, 2025, [https://www.scribd.com/document/441515735/Introduction-to-Azure-Cosmos-DB-pdf](https://www.scribd.com/document/441515735/Introduction-to-Azure-Cosmos-DB-pdf)  
8. Can you proxy MongoDB connection with Nginx? Sure you can! | Blog - Code Fibers, accessed December 8, 2025, [https://codefibershq.com/blog/can-you-proxy-mongodb-connection-with-nginx-sure-you-can](https://codefibershq.com/blog/can-you-proxy-mongodb-connection-with-nginx-sure-you-can)  
9. Stream data from IBM Db2, SAP, Sybase, and other databases to MongoDB Atlas on AWS, accessed December 8, 2025, [https://docs.aws.amazon.com/prescriptive-guidance/latest/patterns/stream-data-from-ibm-db2-to-mongodb-atlas.html](https://docs.aws.amazon.com/prescriptive-guidance/latest/patterns/stream-data-from-ibm-db2-to-mongodb-atlas.html)  
10. Accepting the PROXY Protocol | NGINX Documentation, accessed December 8, 2025, [https://docs.nginx.com/nginx/admin-guide/load-balancer/using-proxy-protocol/](https://docs.nginx.com/nginx/admin-guide/load-balancer/using-proxy-protocol/)  
11. How to setup MongoDB behind Nginx Reverse Proxy [closed] - Stack Overflow, accessed December 8, 2025, [https://stackoverflow.com/questions/31853755/how-to-setup-mongodb-behind-nginx-reverse-proxy](https://stackoverflow.com/questions/31853755/how-to-setup-mongodb-behind-nginx-reverse-proxy)  
12. gcp.datastream.ConnectionProfile | Pulumi Registry, accessed December 8, 2025, [https://www.pulumi.com/registry/packages/gcp/api-docs/datastream/connectionprofile/](https://www.pulumi.com/registry/packages/gcp/api-docs/datastream/connectionprofile/)  
13. Enable the PROXY protocol | HAProxy config tutorials, accessed December 8, 2025, [https://www.haproxy.com/documentation/haproxy-configuration-tutorials/proxying-essentials/client-ip-preservation/enable-proxy-protocol/](https://www.haproxy.com/documentation/haproxy-configuration-tutorials/proxying-essentials/client-ip-preservation/enable-proxy-protocol/)  
14. Watch out for SNI when using an nginx reverse proxy - Sense Codons, accessed December 8, 2025, [https://blog.sensecodons.com/2022/10/watch-out-for-sni-when-using-nginx.html](https://blog.sensecodons.com/2022/10/watch-out-for-sni-when-using-nginx.html)  
15. How do you proxy Mongodb Atlas instance via HAProxy? - Reddit, accessed December 8, 2025, [https://www.reddit.com/r/mongodb/comments/ydxjud/how_do_you_proxy_mongodb_atlas_instance_via/](https://www.reddit.com/r/mongodb/comments/ydxjud/how_do_you_proxy_mongodb_atlas_instance_via/)  
16. Connecting to MongoDB Atlas cluster using nginx proxy, accessed December 8, 2025, [https://www.mongodb.com/community/forums/t/connecting-to-mongodb-atlas-cluster-using-nginx-proxy/303998](https://www.mongodb.com/community/forums/t/connecting-to-mongodb-atlas-cluster-using-nginx-proxy/303998)  
17. Nginx module | Beats - Elastic, accessed December 8, 2025, [https://www.elastic.co/docs/reference/beats/filebeat/filebeat-module-nginx](https://www.elastic.co/docs/reference/beats/filebeat/filebeat-module-nginx)  
18. Get real-time analytics data with Datastream and MongoDB | Google Cloud Blog, accessed December 8, 2025, [https://cloud.google.com/blog/products/databases/get-real-time-analytics-data-with-datastream-and-mongodb](https://cloud.google.com/blog/products/databases/get-real-time-analytics-data-with-datastream-and-mongodb)  
19. Private Service Connect - Using PSC Backends to Access a Producer Service | Google Codelabs, accessed December 8, 2025, [https://codelabs.developers.google.com/cloudnet-l7psc-xlb-gcp](https://codelabs.developers.google.com/cloudnet-l7psc-xlb-gcp)  
20. Set Up a Private Endpoint for a Dedicated Cluster - Atlas - MongoDB Docs, accessed December 8, 2025, [https://www.mongodb.com/docs/atlas/security-cluster-private-endpoint/](https://www.mongodb.com/docs/atlas/security-cluster-private-endpoint/)  
21. MongoDB Atlas Data API Is Now Generally Available: Connectionless Data Access Over HTTPS, accessed December 8, 2025, [https://www.mongodb.com/company/blog/product-release-announcements/atlas-data-api-generally-available-connectionless-data-access-over-https](https://www.mongodb.com/company/blog/product-release-announcements/atlas-data-api-generally-available-connectionless-data-access-over-https)  
22. MongoDB MCP Server Security Best Practices, accessed December 8, 2025, [https://www.mongodb.com/docs/mcp-server/security-best-practices/](https://www.mongodb.com/docs/mcp-server/security-best-practices/)  
23. Use the Confluent Cloud Console with Private Networking, accessed December 8, 2025, [https://docs.confluent.io/cloud/current/networking/ccloud-console-access.html](https://docs.confluent.io/cloud/current/networking/ccloud-console-access.html)  
24. Mongo DB behind Nginx as reverse proxy, share your Mongo DB with your friends in LAN network - GitHub Gist, accessed December 8, 2025, [https://gist.github.com/bugb/e08f4edd1d7ba11706469ccd6cce1dfd](https://gist.github.com/bugb/e08f4edd1d7ba11706469ccd6cce1dfd)  
25. MongoDB behind Nginx Reverse Proxy Manager : r/selfhosted - Reddit, accessed December 8, 2025, [https://www.reddit.com/r/selfhosted/comments/1ctr6zx/mongodb_behind_nginx_reverse_proxy_manager/](https://www.reddit.com/r/selfhosted/comments/1ctr6zx/mongodb_behind_nginx_reverse_proxy_manager/)  
26. MongoNetworkError: failed to connect to server [localhost:27017] on first connect [MongoNetworkError: connect ECONNREFUSED 127.0.0.1:27017] - Stack Overflow, accessed December 8, 2025, [https://stackoverflow.com/questions/50173080/mongonetworkerror-failed-to-connect-to-server-localhost27017-on-first-connec](https://stackoverflow.com/questions/50173080/mongonetworkerror-failed-to-connect-to-server-localhost27017-on-first-connec)  
27. MongoDB connection error: MongoTimeoutError: Server selection timed out after 30000 ms - Stack Overflow, accessed December 8, 2025, [https://stackoverflow.com/questions/59162342/mongodb-connection-error-mongotimeouterror-server-selection-timed-out-after-30](https://stackoverflow.com/questions/59162342/mongodb-connection-error-mongotimeouterror-server-selection-timed-out-after-30)  
28. datastream package - google.golang.org/api/datastream/v1 - Go Packages, accessed December 8, 2025, [https://pkg.go.dev/google.golang.org/api/datastream/v1](https://pkg.go.dev/google.golang.org/api/datastream/v1)  
29. REST Resource: projects.locations.connectionProfiles | Datastream, accessed December 8, 2025, [https://docs.cloud.google.com/datastream/docs/reference/rest/v1/projects.locations.connectionProfiles](https://docs.cloud.google.com/datastream/docs/reference/rest/v1/projects.locations.connectionProfiles)  
30. Manage connection profiles | Datastream - Google Cloud Documentation, accessed December 8, 2025, [https://docs.cloud.google.com/datastream/docs/manage-connection-profiles](https://docs.cloud.google.com/datastream/docs/manage-connection-profiles)  
31. Bierer, D. (2020) - Learn MongoDB 4.x - A Guide To Understanding MongoDB Development and Administration For NoSQL Developers - Scribd, accessed December 8, 2025, [https://www.scribd.com/document/542054108/Bierer-D-2020-Learn-MongoDB-4-x-A-Guide-to-Understanding-MongoDB-Development-and-Administration-for-NoSQL-Developers](https://www.scribd.com/document/542054108/Bierer-D-2020-Learn-MongoDB-4-x-A-Guide-to-Understanding-MongoDB-Development-and-Administration-for-NoSQL-Developers)  
32. MongoDB Integration - Elastic, accessed December 8, 2025, [https://www.elastic.co/docs/reference/integrations/mongodb](https://www.elastic.co/docs/reference/integrations/mongodb)  
33. MongoDB: connect to a replicaSet running on docker (local) - Stack Overflow, accessed December 8, 2025, [https://stackoverflow.com/questions/77642378/mongodb-connect-to-a-replicaset-running-on-docker-local](https://stackoverflow.com/questions/77642378/mongodb-connect-to-a-replicaset-running-on-docker-local)  
34. How to connect to a mongodb replica set hosted locally in docker from the host machine, accessed December 8, 2025, [https://stackoverflow.com/questions/77282482/how-to-connect-to-a-mongodb-replica-set-hosted-locally-in-docker-from-the-host-m](https://stackoverflow.com/questions/77282482/how-to-connect-to-a-mongodb-replica-set-hosted-locally-in-docker-from-the-host-m)  
35. google_datastream_connection_, accessed December 8, 2025, [https://registry.terraform.io/providers/hashicorp/google/5.24.0/docs/resources/datastream_connection_profile](https://registry.terraform.io/providers/hashicorp/google/5.24.0/docs/resources/datastream_connection_profile)  
36. connecting to Mongodb inside a docker with mongodb compass GUI - Stack Overflow, accessed December 8, 2025, [https://stackoverflow.com/questions/49493688/connecting-to-mongodb-inside-a-docker-with-mongodb-compass-gui](https://stackoverflow.com/questions/49493688/connecting-to-mongodb-inside-a-docker-with-mongodb-compass-gui)  
37. MongoDB module | Beats - Elastic, accessed December 8, 2025, [https://www.elastic.co/docs/reference/beats/metricbeat/metricbeat-module-mongodb](https://www.elastic.co/docs/reference/beats/metricbeat/metricbeat-module-mongodb)  
38. FAQ: Connection String Options - Atlas - MongoDB Docs, accessed December 8, 2025, [https://www.mongodb.com/docs/atlas/reference/faq/connection-changes/](https://www.mongodb.com/docs/atlas/reference/faq/connection-changes/)  
39. Unable to connect Datastream via PSC - Data Analytics - Google Developer forums, accessed December 8, 2025, [https://discuss.google.dev/t/unable-to-connect-datastream-via-psc/253612](https://discuss.google.dev/t/unable-to-connect-datastream-via-psc/253612)  
40. DataSunrise Database Security User Guide | PDF - Scribd, accessed December 8, 2025, [https://www.scribd.com/document/654898026/DataSunrise-Database-Security-User-Guide-3](https://www.scribd.com/document/654898026/DataSunrise-Database-Security-User-Guide-3)  
41. Create custom organization policy constraints | Datastream - Google Cloud Documentation, accessed December 8, 2025, [https://docs.cloud.google.com/datastream/docs/custom-constraints](https://docs.cloud.google.com/datastream/docs/custom-constraints)
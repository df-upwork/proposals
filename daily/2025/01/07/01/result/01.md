1) Magento из коробки предоставляет механизмы связей (Cross‐Sells, Up‐Sells, Related Products), которые задаются в разделе **Related Products, Up-Sells, and Cross-Sells** при редактировании товара.
2) **Up‐Sells, Cross‐Sells, Related Products** в Magento имеют уже заданное назначение и логику, «прикручивать» к ним механику замены SKU (или любую нестандартную) — не всегда удобно и может путать администраторов, которые привыкли к «классическим» сценариям использования этих связей.  
3) Однако можно расширить этот механизм и добавить свой тип связи, например, назвать его «Upgrades» или «Enhancements».
В админке у родительского продукта появится отдельная вкладка, где можно будет выбрать, какие товары являются «upgrade» для данного товара.
Эти «upgrade»-товары по умолчанию можно сделать «Not Visible Individually», чтобы они не показывались в поиске и каталоге, но при этом физически существовали в базе как полноценные товары со своим SKU и собственной ценой.
4) Плюсы:
4.1) Используем встроенный механизм Magento, который уже умеет работать с привязками товаров.
4.2) Можно без проблем хранить любую информацию (цены, сток и т. д.) прямо внутри самого upgrade‐продукта.
5) **Что придётся доработать**  
5.1) **Link Type** — расширить (или переиспользовать Up-Sell), чтобы мы могли отдельно отображать именно «Upgrade» в админке и на фронте.  
5.2) **UI на PDP** — отобразить варианты апгрейда (с проверкой стока, ценовой разницей и т.д.).  
5.3) **Логику замены SKU** — при нажатии «Add to Cart» нужно (через JavaScript или observer) подменить основной SKU на upgrade SKU, если выбран апгрейд.

## 1.
Клиент хочет выполнить следующий проект:
### 1.1. Title
Dynamics 365 Sales & Business Central Migration Assistance – Consulting & Implementation

### 1.2. Description
Project Overview:
We are migrating from Salesforce to Dynamics 365 Sales and Business Central. 
Our team is handling most of the migration in-house, but we need an experienced Dynamics 365 consultant to assist with specific technical aspects and provide best practices guidance.
---
Key Tasks & Requirements:
1. Lead Filtering & Data Migration Strategy
Help limit which leads are sent to Sales 365 based on account number format, ensuring correct division or customer group assignment.
Potentially create a custom field called “account type” for filtering.
Advise on best practices for migrating relevant leads while avoiding unnecessary data clutter.
2. Business Central Data Visibility in Sales 365
Ensure that inventory, product pricing, customer purchase history (YTD amount), and status indicators (past due, credit hold, etc.) are accessible in Sales 365.
Guide us on best practices for syncing this data efficiently.
3. Dealer & Customer Record Matching
We have both dealers and customers in Salesforce, which need to be properly mapped and synced between Business Central and Sales 365.
Provide consultation on the best approach to align records across both systems.
4. Custom Fields & Data Mapping
Assist with creating and mapping custom fields to match our current Salesforce setup.
5. Recreating Email Merge Templates
Help us recreate email templates in Sales 365 that we currently use in Salesforce.
Ensure smooth integration with Dynamics 365’s email and automation features.
Ideal Candidate:
- Experienced in Dynamics 365 Sales & Business Central, with hands-on knowledge of data migration and integrations.
- Strong understanding of lead management, customer segmentation, and data filtering in Dynamics 365.
- Ability to recommend best practices for setting up CRM and ERP synchronization.
- Familiarity with Salesforce data structures (preferred but not required).
- Experience with email templates and automation within Dynamics 365.
- Must be available for at least half of the US working day to ensure timely communication and collaboration.
- High English proficiency – Must be able to understand our needs clearly, even if we don’t explain them perfectly.
- Excellent communication skills – We value clear, concise communication and responsiveness.
- Prefers async communication – Most interactions will be through Slack or Upwork messaging, limiting unnecessary meetings and calls.
Project Scope & Engagement:
Part-time, flexible support as needed throughout the migration process.
Work closely with our internal team to guide, implement, and troubleshoot.
Some tasks will be hands-on work, while others will be consulting and advising.
If you have experience in Dynamics 365 migrations, CRM/ERP integrations, and data mapping, please apply.  
Please include:
- A brief summary of your relevant experience.
- Examples of similar projects you’ve worked on.
- Your availability and preferred hourly rate.

### 1.3. Местоположение клиента
United States
Chanhassen

### 1.4. Tags
Business Applications Consultation
Business Applications Development
Microsoft Dynamics 365
Microsoft Dynamics CRM
Microsoft Business Central
Salesforce

## 2. Мой ответ клиенту
Я хочу ответить клиенту так:
~~~
1) Для удобной фильтрации leads при их экспорте из Salesforce рекомендую создать «Formula Field», например: `IF(BEGINS(AccountNumber , "DLR-" ), "Dealer", "Customer")`.
Это позволит не заполнять custom field вручную.
2) Регулярную передачу inventory, product pricing, customer purchase history (YTD amount), and status indicators (past due, credit hold, etc.) из Business Central в Dynamics 365 Sales рекомендую сделать через Microsoft Power Automate.
При этом надо убедиться, что план лицензирования Microsoft Power Automate позволяет использовать премиум-коннекторы (Business Central connector и Microsoft Dataverse connector). 
При необходимости оформить дополнительную лицензию.

3) Для примера опишу, как настроить передачу inventory из Business Central в Dynamics 365 Sales посредством Power Automate:
3.1) В Business Central данные об инвентаре хранятся в таблице `Items`, которая содержит информацию о товарах, включая их идентификаторы (`Item No.`), названия и другие атрибуты.  
3.2) Доступ к текущему количеству на складе (`Inventory`) предоставляется через таблицу `Item Ledger Entries` или агрегированные данные в таблице `Item`.  
3.3) Надо использовать API Business Central для доступа к этим данным. 
Для этого открыть «Business Central» → «Search» (значок лупы) → «Web Services» и настроить OData V4 или API-Endpoints.
Например, конечная точка OData может быть такой: `https://api.businesscentral.dynamics.com/v2.0/{tenant-id}/{environment}/ODataV4/Company('YourCompany')/Items`.
3.4) В Dynamics 365 Sales данные об инвентаре логично связать с сущностью `Product`, которая используется для управления товарами в продажах. 
Надо проверить наличие стандартного поля для хранения количества на складе. 
Если такого поля нет, создать пользовательское поле:  
- Перейти в `Settings` → `Customizations` → `Customize the System`.  
- Выбрать сущность `Product` → `Fields` → `New`.  
- Создать поле с именем `Available Inventory`, тип данных `Whole Number`.  
- Сохранить и опубликовать изменения (`Publish All Customizations`).

3.5) В Power Automate надо настроить подключения к обеим системам: Business Central и Dynamics 365 Sales:
3.5.1) Войти в Power Automate через портал `make.powerautomate.com`.  
3.5.2) Перейти в раздел `Connections` и создать подключение к Business Central:  
- Выбрать коннектор `Microsoft Dynamics 365 Business Central`.  
- Указать учетные данные и среду (environment) Business Central.  
3.5.3) Создать подключение к Dynamics 365 Sales:  
- Выбрать коннектор `Microsoft Dataverse` (ранее Common Data Service), так как Sales 365 использует Dataverse.  
- Авторизоваться с учетной записью Dynamics 365. 

3.6) Создать поток (flow) в Microsoft Power Automate для регулярной передачи данных об остатках:
3.6.1) В Power Automate выбрать `Create` → `Automated cloud flow` → `Scheduled cloud flow`.  
3.6.2) Настроить триггер `Recurrence`: установить интервал, например, `Interval` = 1, `Frequency` = `Day` (ежедневное обновление).  
3.6.3) Добавить действие `Get rows` из коннектора `Microsoft Dynamics 365 Business Central`:  
- Указать таблицу `Items`.  
- При необходимости добавить фильтр в поле `OData filter`, например, `inventory gt 0`, чтобы получать только товары с положительным остатком.  
3.6.4) Добавить действие `List records` из коннектора `Microsoft Dataverse`:  
- Указать сущность `Products` в Sales 365.  
- Использовать фильтр для сопоставления товаров, например, по полю `Product Number`.  
3.6.5) Добавить действие `Update a record` из коннектора `Microsoft Dataverse`:  
- Указать сущность `Products`.  
- Сопоставить запись из Sales 365 с данными из Business Central по полю `Product Number` (соответствует `Item No.`).  
- Обновить поле `Available Inventory` значением из поля `Inventory` таблицы `Items`.  
3.6.6) Для новых товаров (если запись не найдена в `List records`) добавить действие `Create a new record`:  
- Указать сущность `Products`.  
- Заполнить обязательные поля, такие как `Name` и `Product Number`, а также `Available Inventory`. 
   
3.7) Настроить соответствие между полями Business Central и Sales 365 в действиях потока.
3.7.1) В действии `Update a record` или `Create a new record` указать:  
- `Product Number` = `Item No.` из Business Central.  
- `Name` = `Description` из Business Central (или другое поле с названием товара).  
- `Available Inventory` = `Inventory` из Business Central.  
3.7.2) Убедиться, что формат данных совпадает (например, `Inventory` как целое число).

3.8) Добавить шаги для обработки ошибок и отслеживания выполнения потока.
3.8.1) Включить `History` в настройках потока для просмотра логов выполнения (`Flow details` → `Run history`).  
3.8.2) Добавить действие `Send an email (V2)` из коннектора `Office 365 Outlook` в случае ошибки:  
- Использовать `Condition` для проверки статуса предыдущего действия (`Succeeded` или `Failed`).  
- Если `Failed`, отправить уведомление администратору с описанием ошибки.  

3.9) Протестировать поток и развернуть его в рабочей среде:

3.9.1) Выполнить тестовый запуск потока в Power Automate: нажать `Test` → `Manually` и проверить обновление нескольких записей в Sales 365.  
3.9.2) Проверить в Sales 365 корректность данных в сущности `Products`: открыть раздел `Sales` → `Products` и убедиться, что поле `Available Inventory` заполнено актуальными значениями из Business Central.  
3.9.3) После успешного тестирования активировать поток: переключить статус в `On` в интерфейсе Power Automate.  

4)
4.1) В большинстве случаев «dealers» и «customers» в Business Central могут храниться в таблице `Customer`, но с разными значениями в поле «Customer Posting Group» или ином поле, помогающем отличать дилера от конечного покупателя.  
4.2) Если в Business Central необходимо использовать разные типы записей для «dealers» и «customers», возможно создание дополнительного пользовательского поля (например, `AccountType`) или применение стандартного поля (например, `Customer Disc. Group`) для различия категорий.  

5) 
5.1) В Sales 365 определить, следует ли использовать одну сущность «Account» для хранения и «dealers», и «customers», или же нужны отдельные сущности (если бизнес-процесс предусматривает раздельный учёт).  
5.2) Если планируется единая сущность «Account» с разным признаком (например, поле `Account Type`), создать или настроить это поле через «Settings» → «Advanced Settings» → «Customizations» → «Customize the System».  

6) Передачу dealers и customers из Salesforce в Business Central и Sales 365 можно сделать 2 способами:
6.1) Посредством Power Automate (аналогично пункту 3 выше)
6.2) Экспортом данных из Salesforce в формате CSV.
6.2.1) Sales 365 поддерживает импорт CSV.
6.2.2) Business Central поддерживает импорт Excel через «RapidStart Services».
Для этого экспортированный файл CSV надо перевести в формат Excel.  

7) Регулярную синхронизации dealers и customers между Business Central и Sales 365 рекомендую делать через Power Automate (аналогично пункту 3 выше).

8) Mapping полей в Sales 365 в соответствии с текущим набором полей в Salesforce делается так:
8.1) Открыть «Settings» → «Advanced Settings» (в верхнем меню) → «Customizations» → «Customize the System».  
8.2) В списке «Entities» выбрать цель (например, «Account», «Lead», «Opportunity»), где требуется создать поля, соответствующие Salesforce.  
8.3) Перейти в «Fields», нажать «New».  
8.4) Повторить параметры из Salesforce:  
- Тип поля (Text, Two Options, Option Set, Date, Currency и т. д.).  
- Название поля (Display Name) и логическое имя (Name).  
- При необходимости создать набор значений (Option Set), чтобы он совпадал с Picklist в Salesforce.  
8.5) Сохранить и опубликовать изменения (кнопка «Publish All Customizations»).

9) Перенос шаблонов писем из Salesforce в Sales 365 делается так:
9.1) Составить список всех merge fields, используемых в шаблонах Salesforce. 
9.2) Выполнить mapping этих merge fields в Sales 365 (пункт 8 выше). 
9.3) Настроить «Email Templates» в Sales 365 («Settings» → «Templates» → «Email Templates»).
9.4) В Sales 365 при создании или редактировании шаблона при нажатии на «Insert/Update» (или похожую команду) появляется возможность выбрать поля из сущностей (например, из сущности «Contact», «Account», «Lead»).  
Вставить поля, соответствующие прежним полям из Salesforce.
9.5) Если требуется автоматическая рассылка писем по триггеру (аналог «Workflow rules» и «Process Builder» в Salesforce), использовать инструменты Sales 365 и Power Automate:  
9.5.1) Открыть «Power Automate» (maker.powerautomate.com) → «Create» → «Automated cloud flow» (или «Scheduled cloud flow»).  
9.5.2) Добавить триггер (например, «When a record is created» в сущности «Lead»).  
9.5.3) В шаге отправки письма (Action «Send an email (V2)» или «Send dynamics email»), выбрать созданный «Email Template» из Sales 365 и подставить нужные поля из Dataverse.
~~~

## 3. Твоя задача
Есть ли в моём ответе фактические ошибки?
Есть ли в моём ответе логические ошибки?
Упустил ли я в ответе нечто важное?


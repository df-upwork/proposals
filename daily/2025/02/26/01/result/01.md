Правильный способ решения вашей задачи:
1) Создать новый Channel в Mirth Connect:
1.1) В интерфейсе Mirth Connect Administrator перейти в «Channels» → «Edit Channel».
1.2) В появившемся окне задать понятное имя канала, например «EpicHL7_InboundChannel».
1.3) Сохранить промежуточные настройки, нажав «Save Changes».
2) Настроить в Mirth Connect Source Connector для приёма HL7-сообщений:
2.1)  В разделе «Source» → «Connector Type» выбрать «TCP Listener» или «MLLP Listener» (чаще всего MLLP Listener для HL7 v2.x).  
2.2) Указать порт, на котором Mirth Connect будет принимать входящие HL7-сообщения. 
Пример: 6661 (значение подбирается исходя из свободных портов). 
2.3) В «Receive Timeout» и «Buffer Size» установить параметры согласно требованиям проекта или рекомендациям Epic.  
2.4) В «Response» выбрать «Auto-generate ACK» (если необходимо отправлять подтверждение).
2.5) Сохранить изменения, нажав «Save Changes».
3) При необходимости добавить в Mirth Connect Transformer для предварительной обработки входящих HL7-сообщений:
3.1) В блоке «Source» → «Edit Transformer» можно использовать встроенный HL7 v2.x парсер. 
3.2) Извлечь нужные поля (например, `PID.3` для идентификатора пациента).
При использовании JavaScript можно обращаться к сегментам вида `msg['PID']['PID.3']['PID.3.1']`.
3.3) При желании преобразовать формат сообщения (например, удалить лишние сегменты или записать отдельные поля во временные переменные).  
3.4) Закрыть «Edit Transformer» и сохранить изменения.
4) В разделе «Destinations» создать «Destination Connector» с типом «Channel Writer» для первичного просмотра или логирования.
5) Настроить соединение на стороне Epic EHR (через Epic Bridges или аналогичный модуль). 
5.1) В Epic Bridges создать интерфейс для отправки HL7-сообщений (`ADT`, `ORM`, `ORU` и т. п.) на IP-адрес и порт, где «MLLP Listener» ожидает сообщения. 
5.2) Указать типы событий (для discharge event это `ADT^A03`) и необходимые сегменты.
5.3) Сохранить конфигурацию и перезапустить сервисы Bridges.
6) Проверить работу канала в разделе «Dashboard» Mirth Connect Administrator:  
6.1) Перейти в «Dashboard» → «Channels».  
6.2) Найти созданный канал (например, «HL7_Inbound_Channel») и нажать «Deploy Channel».  
6.3) бедиться, что статус канала «Deployed» без ошибок.
7) Проверить соединение между Epic Bridges и Mirth Connect:
7.1) В Epic Bridges отправить тестовое HL7-сообщение.
7.2)  В интерфейсе Mirth Connect Administrator открыть «Dashboard» → «Messages» для соответствующего канала и убедиться, что сообщение поступило и обработано без ошибок. 
7.3) При необходимости просмотреть «Response» (ACK) в «Message Browser».
8) Убедиться, что БД готова к приёму логируемых HL7-сообщений (нужные таблицы, права доступа, подключение).
9) Убедиться, что драйвер JDBC для выбранной базы данных доступен Mirth Connect.
Если в Mirth Connect отсутствует требуемый JDBC-драйвер  (например, для PostgreSQL или MS SQL Server), то нужно:
9.1) Поместить соответствующий .jar-файл в папку, откуда Mirth Connect подхватывает дополнительные драйверы (чаще всего каталог custom-lib или аналогичный, в зависимости от версии).  
9.2) Перезагрузить сервис Mirth Connect, чтобы драйвер был распознан.
10) В разделе «Destinations» создать «Destination Connector» типа «Database Writer».
11) Настроить свойства «Database Writer»:
11.1) В разделе «Database Writer» → «Database» указать тип соединения:  
- в поле «Driver» — класс драйвера (например, `com.mysql.jdbc.Driver или org.postgresql.Driver`);  
- в поле «URL» — строку подключения JDBC (например, `jdbc:mysql://localhost:3306/your_database`);  
- в поле «Username» и «Password» — учётные данные для доступа к базе данных.  
11.2) При использовании SSL или других параметров подключения, добавить соответствующие настройки в URL или конфигурационный файл.
12) В разделе «Database Writer» → «Statement» указать команду для записи данных.
Для сохранения всего HL7-сообщения целиком в поле message_raw можно использовать переменную `${message.encodedData}` или аналогичную. 
Mirth Connect автоматически подставит текст HL7-сообщения в `${message.encodedData}`.
13) Сохранить и развернуть Channel:   
13.1) «Save Changes».  
13.2) «Channels» → «Deploy Channel». 
Убедиться, что статус стал «Deployed» без ошибок.
14) Протестировать сохранение в базу данных:
14.1) Отправить из Epic EHR тестовое HL7-сообщение в Channel.  
14.2) В «Dashboard» → «Messages» просмотреть, успешно ли Destination выполнил операцию.  
14.3) Проверить, появилась ли новая запись в БД.
15) Создать учётную запись на open.epic.com.
16) Составить список: какие типы сообщений планируется тестировать (например, ADT^A03 для события выписки), какие сегменты HL7 или FHIR-ресурсы задействовать, какие варианты транспортного соединения использовать (MLLP Listener, REST API).    
17) Подготовить Channel в Mirth Connect:
17.1) Source Connector: «Channel Reader» или «File Reader».
17.2) Destination Connector: «HTTP Sender» или «Web Service Sender». 
17.3) Указать «URL FHIR API» из sandbox open.epic.com (например, `https://open-ic.epic.com/FHIR/api/FHIR/DSTU2/`).    
17.4) В «Headers» или «Parameters» добавить поля, которые требуется по спецификации (например, `Content-Type: application/fhir+json`).
18) Зайти в аккаунт на open.epic.com и получить там Client ID и Client Secret для приложения App.
19) Настроить OAuth2 в Mirth Connect, если API требует авторизации. 
Для этого в «Destination Connector» (HTTP Sender) есть вкладка «Headers» и/или «Authentication», где можно прописать логику получения токена (через «Pre-Request Script», если нужно автоматически запрашивать токен).
20) Отправить тестовое сообщение из Epic в Mirth Connect:
20.1) Сформировать ресурс JSON: (например, `Discharge`). 
20.2) Отправить его в «Destination Connector» (HTTP Sender) по URL API.
20.3) Убедиться, что получен ответ со статусом `200 OK` или `201 Created` (если POST).
21) Проверить логи и результат:
21.1) Зайти в «Dashboard» → «Messages» для нужного канала в Mirth Connect и посмотреть, прошла ли отправка/приём без ошибок.  
21.2) Убедиться, что Response содержит корректный HTTP-статус/JSON-ответ.  
21.3) На портале open.epic.com или в тестовом Epic-интерфейсе проверить, что сообщение дошло:  
На open.epic.com есть страница «Sandbox» → «Data Explorer», где можно увидеть, что ресурс был создан или обновлён.


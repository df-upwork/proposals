Ниже приведены **10 примеров** того, как можно использовать «Function Calling» в чатботе для **B2B-компании из сферы Food & Beverage** (с учётом их бизнес-процессов и задач):

1. **Проверка текущей наличия товара на складе**  
   *Функция*: `checkInventory(productID, requestedQuantity)`  
   *Пример сценария*:  
   - Пользователь спрашивает: «У вас есть 200 упаковок органического сока Mango Mix?».  
   - LLM генерирует вызов функции:  
     ```json
     {
       "name": "checkInventory",
       "arguments": {
         "productID": "MANGO_MIX_1L",
         "requestedQuantity": 200
       }
     }
     ```
   - Магазин (Magento) возвращает доступное количество, например 180 упаковок.  
   - Чатбот сообщает пользователю, что в наличии 180, и предлагает либо заказать меньшее количество, либо дождаться пополнения.

2. **Расчёт оптовой скидки для B2B-клиента**  
   *Функция*: `calculateB2BDiscount(userID, productList)`  
   *Пример сценария*:  
   - Пользователь спрашивает: «Сколько будет стоить, если я возьму 500 упаковок кофе разных сортов?»  
   - LLM вызывает функцию:  
     ```json
     {
       "name": "calculateB2BDiscount",
       "arguments": {
         "userID": "client_123",
         "productList": [
           {"productID": "COFFEE_ARABICA", "quantity": 300},
           {"productID": "COFFEE_ROBUSTA", "quantity": 200}
         ]
       }
     }
     ```
   - Magento возвращает информацию о базовой цене, объёмной скидке и финальной сумме.  
   - Чатбот объясняет, как формируется скидка и называет итоговую стоимость.

3. **Создание предварительного счёта (Quote) для крупных B2B-заказов**  
   *Функция*: `createBulkQuote(userID, productList, paymentTerms)`  
   *Пример сценария*:  
   - Менеджер компании-покупателя хочет увидеть предварительный счёт, прежде чем отправить окончательный заказ.  
   - LLM генерирует вызов:  
     ```json
     {
       "name": "createBulkQuote",
       "arguments": {
         "userID": "bulk_buyer_987",
         "productList": [
           {"productID": "MINERAL_WATER_1L", "quantity": 1000},
           {"productID": "ORGANIC_TEA_PACK", "quantity": 500}
         ],
         "paymentTerms": "NET30"
       }
     }
     ```
   - Magento формирует quote и возвращает номер документа и сумму.  
   - Чатбот сообщает покупателю ссылку на quote и условия оплаты.

4. **Рекомендация сопутствующих продуктов (Cross-Selling) на основе текущей корзины**  
   *Функция*: `recommendCrossSell(userID, productIDs)`  
   *Пример сценария*:  
   - Пользователь уже добавил в корзину чай и мёд.  
   - LLM генерирует вызов:  
     ```json
     {
       "name": "recommendCrossSell",
       "arguments": {
         "userID": "user_b2b_101",
         "productIDs": ["GREEN_TEA_PACK", "ORGANIC_HONEY_JAR"]
       }
     }
     ```
   - Magento анализирует историю покупок/рекомендации и возвращает список сопутствующих товаров (например, травяные добавки или лимонный сироп).  
   - Чатбот предлагает эти товары как дополнение к корзине.

5. **Получение статуса и ETA доставки заказа**  
   *Функция*: `trackOrderStatus(orderID)`  
   *Пример сценария*:  
   - Покупатель запрашивает: «Где сейчас находится мой заказ #ORDER3456 и когда приедет?»  
   - LLM вызывает функцию:  
     ```json
     {
       "name": "trackOrderStatus",
       "arguments": {
         "orderID": "ORDER3456"
       }
     }
     ```
   - Magento возвращает текущее состояние (например, «в пути») и ориентировочную дату доставки.  
   - Чатбот озвучивает дату и предлагает связаться с курьерской службой при необходимости.

6. **Смена статуса заказа с «Упакован» на «Отправлен»**  
   *Функция*: `updateOrderStatus(orderID, newStatus)`  
   *Пример сценария*:  
   - Менеджер склада сообщает чатботу: «Мы только что отгрузили заказ #ORDER1234».  
   - Чатбот генерирует вызов:  
     ```json
     {
       "name": "updateOrderStatus",
       "arguments": {
         "orderID": "ORDER1234",
         "newStatus": "Shipped"
       }
     }
     ```
   - В Magento обновляется статус, покупатель получает уведомление о том, что заказ отправлен.

7. **Добавление новой B2B-учётной записи**  
   *Функция*: `createB2BAccount(accountData)`  
   *Пример сценария*:  
   - Менеджер: «Я хочу зарегистрировать нового оптовика из магазина в Калифорнии».  
   - LLM формирует вызов:  
     ```json
     {
       "name": "createB2BAccount",
       "arguments": {
         "accountData": {
           "companyName": "California Foods LLC",
           "contactPerson": "Jane Doe",
           "email": "jane.doe@califo.com",
           "phone": "+1-555-123-4567",
           "billingAddress": {...},
           "shippingAddress": {...}
         }
       }
     }
     ```
   - Magento создаёт B2B-аккаунт с особыми условиями оплаты, кредитными лимитами и т.д.  
   - Чатбот даёт подтверждение.

8. **Применение купона лояльности/акции для оптовых покупателей**  
   *Функция*: `applyB2BPromoCode(userID, promoCode)`  
   *Пример сценария*:  
   - Покупатель интересуется: «У меня есть купон на скидку, как его применить?»  
   - LLM генерирует вызов:  
     ```json
     {
       "name": "applyB2BPromoCode",
       "arguments": {
         "userID": "wholesale_buyer_123",
         "promoCode": "FALLSALE2024"
       }
     }
     ```
   - Magento рассчитывает скидку на текущие товары в корзине.  
   - Чатбот сообщает об успешном применении купона и новой сумме заказа.

9. **Инициирование возврата или частичного возврата (RMA)**  
   *Функция*: `initiateReturn(orderID, productID, reasonCode, quantity)`  
   *Пример сценария*:  
   - Покупатель пишет: «Хочу вернуть 10 упаковок товара #PRODUCT999, так как срок годности был коротким».  
   - LLM формирует JSON:  
     ```json
     {
       "name": "initiateReturn",
       "arguments": {
         "orderID": "ORDER2345",
         "productID": "PRODUCT999",
         "reasonCode": "SHORT_EXPIRY",
         "quantity": 10
       }
     }
     ```
   - Magento создаёт заявку на возврат (RMA), автоматически информируя склад и финансовый отдел.  
   - Чатбот объясняет клиенту дальнейшие шаги по отправке товара.

10. **Подбор оптимального способа доставки с учётом скоропортящихся товаров**  
    *Функция*: `getShippingOptions(destinationZip, products, deliveryPriority)`  
    *Пример сценария*:  
    - Клиент интересуется: «Мне нужно быстро доставить свежую продукцию в Лас-Вегас. Какие есть варианты?»  
    - LLM вызывает:  
      ```json
      {
        "name": "getShippingOptions",
        "arguments": {
          "destinationZip": "89101",
          "products": [
            {"productID": "FRESH_SALMON", "quantity": 20},
            {"productID": "GREEK_YOGURT_1L", "quantity": 30}
          ],
          "deliveryPriority": "HIGH"
        }
      }
      ```
    - Magento (или подключённый сервис логистики) возвращает возможные варианты (холодовая цепочка, экспресс-доставка и т.д.).  
    - Чатбот сравнивает сроки и стоимость, рекомендует оптимальный вариант.

----

Все эти примеры показывают, как **Function Calling** позволяет чатботу не просто «генерировать текст», а **взаимодействовать** с реальными бизнес-функциями (API-методами) в Magento. В результате клиенту или сотруднику склада не нужно покидать чатбот: все операции — от расчёта оптовых скидок до получения статуса доставки — происходят в одном месте.
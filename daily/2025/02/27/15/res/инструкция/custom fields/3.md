Ниже представлена пошаговая инструкция на русском языке, позволяющая создать и сопоставить (map) пользовательские поля так, чтобы они соответствовали текущим полям в Salesforce, с учётом планируемой миграции или интеграции в экосистеме Microsoft Dynamics 365 Sales или других систем. Инструкция учитывает требования о сохранении точных англоязычных терминов для элементов программного обеспечения.

1) Проанализировать текущую структуру в Salesforce

1.1) Открыть «Setup» → «Object Manager» и просмотреть список объектов (например, Lead, Account, Contact, Opportunity).
1.2) Для каждого объекта выписать существующие пользовательские поля (custom fields), их типы (Text, Number, Picklist и т. д.) и возможные значения (при использовании Picklist, Option Set и т. д.).
1.3) Сохранить эту информацию в виде структуры сопоставления (mapping). Например, в файле `salesforce_fields_mapping.xlsx` можно перечислить:
   - Название объекта Salesforce.
   - Имя пользовательского поля (API Name).
   - Тип поля (Picklist, Number, Text).
   - Дополнительные характеристики (длина, формат и т. д.).

2) Определить целевую систему и объекты

2.1) В целевой системе (например, Microsoft Dynamics 365 Sales) определить, куда будут переноситься (или куда планируется сопоставить) данные из Salesforce. Обычно объекты Salesforce Lead, Account, Contact, Opportunity сопоставляются с соответствующими сущностями в Dataverse:
   - Lead → «Lead»
   - Account → «Account»
   - Contact → «Contact»
   - Opportunity → «Opportunity»
2.2) Если используется другая система (например, Microsoft Business Central или интеграция в Microsoft Power Platform), составить аналогичную карту сущностей и проверить доступные поля.

3) Создать пользовательские поля в целевой системе (для соответствия структуре Salesforce)

3.1) В Microsoft Dynamics 365 Sales (Dataverse):
   - Открыть «Settings» → «Advanced Settings» → «Solutions» (или перейти через Maker Portal в Power Apps).
   - Выбрать нужное решение (Solution) или создать новое, если необходимо.
   - Найти нужную сущность (например, «Lead», «Account», «Contact», «Opportunity») и перейти в раздел «Fields».
   - Нажать «New Field», указать:
     - «Display Name»: название, согласованное с Salesforce.
     - «Name»: уникальное имя поля (генерируется автоматически, при желании можно задать вручную).
     - «Data Type»: тот же тип, что в Salesforce (Text, Number, Option Set и т. д.).
     - При необходимости создать «Option Set» (или «Choices») с такими же значениями, как в Salesforce, если поле в Salesforce было Picklist.
   - Сохранить и опубликовать изменения.

3.2) Если система другая (например, Microsoft Business Central или иная CRM), применить аналогичный подход:
   - Найти или создать соответствующие объекты (таблицы, сущности).
   - Создать поля, аналогичные пользовательским полям в Salesforce.

4) Задокументировать соответствие полей (mapping)

4.1) В файле `salesforce_fields_mapping.xlsx` (или другом хранилище) для каждого пользовательского поля Salesforce указать:
   - Сущность и поле в целевой системе.
   - Тип поля (Text → текстовое, Number → число и т. д.).
   - Значения (для Option Set, Picklist).
4.2) Если некоторые значения Picklist в Salesforce не совпадают с нужными в целевой системе, согласовать возможность их изменения (добавление новых опций, переименование).

5) Настроить миграцию или интеграцию для передачи данных между полями

5.1) При использовании Microsoft Power Automate создать «Cloud Flow» (Scheduled, Automated или Instant в зависимости от задач). Например, для миграции:
   - Создать действие «List records» (или «List rows») в Salesforce connector, получая список сущностей (Lead, Account и т. д.), включая пользовательские поля.
   - Добавить действие (Action) «Dataverse» или «Dynamics 365» (в зависимости от используемого разъёма) для создания или обновления записей в целевой системе.
   - В настройках сопоставления полей (mapping) указать, какое пользовательское поле из Salesforce переносится (или записывается) в созданное пользовательское поле в Microsoft Dynamics 365 Sales.

5.2) Если используется другой метод интеграции (например, файловый импорт-экспорт через CSV или «Scribe», «KingswaySoft», «SSIS» и т. д.), на этапе сопоставления колонок выбрать соответствия:
   - Колонка `SF_CustomField1` → Поле `New_CustomField1` (Dataverse).
   - Колонка `SF_CustomPicklist` → Поле `New_CustomPicklist` (Option Set).
   - При необходимости реализовать конверсию форматов (например, из текста в число).

6) Проверить корректность созданных пользовательских полей

6.1) Перейти в целевую систему (например, Microsoft Dynamics 365 Sales) и открыть формы (Form) сущностей (Lead, Account и т. д.). Убедиться, что поля видны, при необходимости настроить их расположение:
   - «Settings» → «Advanced Settings» → «Customizations» → «Customize the System».
   - Выбрать сущность, перейти в «Forms», открыть нужную форму и добавить поля на макет.
   - Сохранить и опубликовать изменения.

6.2) Выполнить тестовую передачу нескольких записей из Salesforce, где заполнены пользовательские поля. Проверить, что в целевой системе значения корректно отобразились.

7) Документировать и обучить команду

7.1) В `salesforce_fields_mapping.xlsx` или другом документе зафиксировать:
   - Все поля, их типы и назначение.
   - Сопоставление (mapping), включая возможные преобразования.
7.2) При необходимости подготовить инструкцию для команды, описав процесс работы с новыми пользовательскими полями (что в них хранится, как корректировать значения, кто отвечает за заполнение).

8) Поддерживать созданные пользовательские поля и обновлять при изменениях

8.1) Если в Salesforce добавляются новые пользовательские поля, повторить шаги 1–4, создав соответствующие поля в целевой системе и обновив миграцию (Flow, ETL).
8.2) При удалении или переименовании полей в Salesforce согласовать изменения и внести их в целевую систему, а также скорректировать сценарий передачи данных (например, в Power Automate).

Данная последовательность действий помогает создать в целевой системе набор пользовательских полей, соответствующих структуре текущей реализации в Salesforce, и настроить корректное сопоставление (mapping) для переноса или синхронизации данных между системами.
1) Заменить пункт 2.2.3 на следующий текст:
2.2.3) Для каждого Linked Service открыть его конфигурацию и использовать функцию «Test connection».
Это позволит проверить базовую возможность подключения к ресурсу из соответствующего Integration Runtime.
Важное примечание:
Функция «Test connection» выполняется не в контексте вашей учетной записи пользователя.
Она выполняется на инфраструктуре Integration Runtime (Azure IR или Self-Hosted IR), указанного в Linked Service.
Она использует учетные данные, определенные в конфигурации Linked Service (e.g., Managed Identity, Service Principal, Account Key).
Источник: Microsoft Learn: Integration runtime in Azure Data Factory.
Успешный «Test connection» не гарантирует работоспособность во время выполнения pipeline (Pipeline run) по следующим причинам:
2.2.3.1) Сетевые различия.
Могут существовать различия в сетевой конфигурации между интерактивным тестированием и автоматическим выполнением.
Это особенно актуально при использовании Self-Hosted IR, Virtual Networks (VNet) или Private Endpoints.
Правила брандмауэров (Firewall rules), Network Security Groups (NSG) или маршрутизация могут отличаться, блокируя доступ во время выполнения.
2.2.3.2) Недостаточные разрешения.
Успешный тест проверяет только возможность аутентификации и сетевого подключения.
Он не гарантирует наличие разрешений для выполнения конкретных операций с данными (e.g., чтение таблицы, выполнение Stored Procedure), требуемых в Pipeline (см. пункт 2.2.5).

2) Заменить пункт 2.2.5 на следующий текст:
2.2.5) Верифицировать права доступа субъекта безопасности ADF.
Необходимо проверить разрешения на двух различных уровнях, так как успешная аутентификация не означает наличие необходимой авторизации для доступа к данным.
2.2.5.1) Уровень Azure RBAC (Role-Based Access Control).
Если используется Managed Identity или Service Principal, необходимо убедиться, что этому субъекту назначены необходимые роли Azure RBAC для доступа к данным (Data Plane) на целевом ресурсе.
E.g., роль «Storage Blob Data Contributor» для Azure Storage.
Эта проверка выполняется вне ADF Studio, в настройках «Access Control (IAM)» целевого ресурса на портале Azure.
2.2.5.2) Уровень внутренних разрешений целевой системы (Data Store Permissions).
Для многих систем (e.g., Azure SQL Database, Azure Synapse Analytics) Azure RBAC не управляет доступом к объектам внутри базы данных.
Необходимо убедиться, что субъект безопасности имеет необходимые разрешения внутри целевой системы.
Субъект безопасности должен быть добавлен как пользователь базы данных (database user).
Этому пользователю должны быть назначены соответствующие роли базы данных (e.g., `db_datareader`, `db_datawriter`).
Если pipeline выполняет Stored Procedures, пользователю также требуется разрешение `EXECUTE`.
Источник: Microsoft Learn: Tutorial: Secure a database in Azure SQL Database.
Эта проверка выполняется путем подключения к базе данных с использованием инструментов управления (e.g., SQL Server Management Studio (SSMS) или Azure Data Studio).

3) Заменить пункт 2.4.1 на следующий текст:
2.4.1) Сопоставить детальные сообщения об ошибках (п. 1.4.3) с результатами проверки среды (п. 2.2 и 2.3).
Детальные сообщения об ошибках из исторических запусков (п. 1.4.3) являются первичным источником для диагностики прошлых сбоев.
Необходимо учитывать временной контекст при интерпретации результатов текущей проверки среды.
Результаты «Test connection» (п. 2.2.3) или статуса IR (п. 2.3.2) отражают текущее состояние системы.
Это состояние могло измениться с момента исторического сбоя (e.g., обновление истекших учетных данных, изменение сетевых правил).
Нельзя полагаться исключительно на текущее состояние для диагностики прошлых проблем.
2.4.1.1) Если историческая ошибка указывает на проблемы с подключением (e.g., «Authentication failed», «Connection timed out»), и текущий «Test connection» (п. 2.2.3) также завершается неудачей, вероятно, существует постоянная проблема конфигурации инфраструктуры или безопасности.
2.4.1.2) Если историческая ошибка указывает на проблемы с подключением, но текущий «Test connection» (п. 2.2.3) успешен, это может указывать на то, что проблема была временной (e.g., таймаут сети, недоступность ресурса) или что конфигурация среды была исправлена с момента сбоя.